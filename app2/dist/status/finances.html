<!DOCTYPE html>
<html>
	<head>
		<script src="/javascripts/lib/Loader.js"></script>
		<script src="/javascripts/status/finances.js"></script>
 	</head>
		<style>
			.bad {
				color: maroon;
			}
			.good {
				color: green;
			}

			#Settings {}
				#TokenAddr, #ComptrollerAddr, #SettingsBankroll, #DailyFundLimit {
					display: inline-block;
					margin-bottom: 5px;
				}

			/* stuff withing #STATUS */
			#Status {}
				#BurnStatus, #DivStatus {
					font-weight: bold;
					margin-top: 20px;
					display: inline-block;
				}
				#BurnStatus {
					margin-top: 50px;
				}
				
				#FinanceBar {
					margin-top: 20px;
					width: 500px;
				}
				#FinanceBar .bar {
					border: 1px solid black;
					background: #FAFAFA;
					height: 20px;
				}
				#FinanceBar .bankrollBar {
					background: #FFDADA;
				}
				#FinanceBar .collatBar,
				#FinanceBar .fundingBar,
				#FinanceBar .divBar {
					background: #DAFFDA;
				}

				#FinanceBar .balanceMarker {
					border-right: 2px solid black;
				}
				#FinanceBar .bankrollMarker,
				#FinanceBar .divThreshMarker {
					border-right: 2px dotted gray;
				}
				#FinanceBar .balanceTxt,
				#FinanceBar .bankrollTxt,
				#FinanceBar .divThreshTxt {
					font-size: 75%;
					font-weight: bold;
					white-space: nowrap;
					margin-left: -3px;
				}

			#Balance {}
				#Balance .centered {
					display: inline-block;
					vertical-align: middle;
					text-align: center;
					padding: 3px;
				}
				#Balance .description {
					font-weight: bold;
					font-size: 70%;
				}
					#Balance .description.positive {
						color: #484;
					}
					#Balance .description.negative {
						color: #844;
					}
					#Balance .description.right {
						text-align: right;
					}
				#Balance .symbol {
					font-weight: bold;
					color: #888;
				}
				#Balance .in, #Balance .out {
					padding-right: 10px;
					font-weight: bold;
					color: #888;
				}
				#IsBalanced {
					display: inline-block;
					font-weight: bold;
					margin-top: 20px;
				}

			#Stats table td, #Stats table th {
				padding: 10px 15px;
			}
			#Stats table .bottom {
				font-size: 80%;
				font-weight: bold;
				color: #080;
			}
			#Stats table {
				border-collapse: collapse;
			}
			#Stats td, #Stats th {
				border: 1px solid #CCC;
			}
			#Stats thead th:first-child {
				border-top: none;
				border-left: none;
			}
		</style>
	</head>
	<body><div class="content">
		<div class="welcome">
			PENNYETHER FINANCIAL STATUS
			<button id="Load">Load</button>
		</div>
		<div id="Settings" class="section">
			<div class="head">Settings</div>
			<div class="body">
				<div id="TokenAddr" title="The address that will receive dividends. This can never be changed.">
					Token: <span class="value"></span>
				</div>
				<br>
				<div id="ComptrollerAddr" title="The address of the Comptroller. This can never be changed. The comptroller deposits bankroll when someone buys tokens, and withdraws bankroll when someone burns tokens.">
					Comptroller: <span class="value"></span>
				</div>
				<br>
				<div id="SettingsBankroll" title="The total amount of ETH staked by token holders. If the Treasury balance is greater than this, all tokens can be burnt for a full refund. If this is not the case, tokens can be refunded until there is no balance remaining.">
					Bankroll: <span class="value"></span>
				</div>
				<br>
				<div id="DailyFundLimit" title="The maximum amount Treasury can send per day. Excludes dividends. This can be changed only +/-5% per day by the Admin.">
					Daily Fund Limit: <span class="value"></span>
				</div>
				<br>
			</div>
		</div>
		<div id="Status" class="section">
			<div class="head">Health</div>
			<div class="body">
				<div id="FinanceBar"></div>
				<div>
					<div id="BurnStatus" title="Bankroll is the amount needed to burn all existing tokens. Since the Treasury can only lose a limited amount of funds per day, the bankroll can be guaranteed for some time."></div>
					<br>
					<div id="DivStatus" title="The Treasury can distribute profits to token holders whenever its balance is greater than 'Dividend Threshold'."></div>
					<br>
				</div>
			</div>
		</div>
		<div id="Balance" class="section">
			<div class="head">Balance</div>
			<div class="body">
				<table cellpadding="0" cellspacing="5">
					<tr>
						<td class="in">Funds In:</td>
						<td align="right">
							<div>
								<div class="centered">
									<div class="value" id="Bankroll"></div>
									<div class="description positive">Bankroll</div>
								</div>
								<div class="centered symbol">+</div>
								<div class="centered">
									<div class="value" id="TotalRevenue"></div>
									<div class="description positive">Revenue</div>
								</div>
							</div>
						</td>
						<td class="symbol">&nbsp;=&nbsp;</td>
						<td align=right>
							<div class="centered">
								<div class="value" id="TotalIn"></div>
								<div class="description positive right">Total In</div>
							</div>
						</td>
					</tr>
					<tr>
						<td class="out">Funds Out:</td>
						<td align=right>
							<div class="centered">
								<div id="TotalFunded"></div>
								<div class="description negative">Funded</div>
							</div>
							<div class="centered symbol">+</div>
							<div class="centered">
								<div class="value" id="TotalDistributed"></div>
								<div class="description negative">Distributed</div>
							</div>
							<div class="centered symbol">+</div>
							<div class="centered">
								<div class="value" id="TotalRewarded"></div>
								<div class="description negative">Rewarded</div>
							</div>
						</td>
						<td class="symbol">&nbsp;=&nbsp;</td>
						<td align=right>
							<div class="centered">
								<div class="value" id="TotalOut"></div>
								<div class="description negative right">Total Out</div>
							</div>
						</td>
					</tr>
					<tr>
						<td></td>
						<td></td>
						<td></td>
						<td align=right>
							<div class="centered">
								<div class="value" id="ExpectedBalance"></div>
								<div class="description positive right">Expected Balance</div>
							</div>
						</td>
					</tr>
				</table>
				<div>
					<div id="IsBalanced" title="If Treasury is balanced, every single Wei in and out is accounted for."></div>
				</div>
			</div>
		</div>
		<div id="Stats" class="section">
			<div class="head">Stats</div>
			<div class="body">
				<div class="log"></div>
				<table>
					<thead>
						<tr>
							<th></th>
							<th>
								<div class='top'>Last 30 days</div>
								<div class='bottom' title='Run rate is the value extrapolated to one year.'>run rate</div>
							</th>
							<th>
								<div class='top'>Last 90 days</div>
								<div class='bottom'>run rate</div>
							</th>
							<th>
								<div class='top'>Last 180 days</div>
								<div class='bottom'>run rate</div>
							</th>
							<th>All time</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<th>Revenue</th>
							<td>
								<div class='top' id="Rev30"></div>
								<div class='bottom' id="Rev30RR"></div>
							</td>
							<td>
								<div class='top' id="Rev90"></div>
								<div class='bottom' id="Rev90RR"></div>
							</td>
							<td>
								<div class='top' id="Rev180"></div>
								<div class='bottom' id="Rev180RR"></div>
							</td>
							<td id="RevTotal"></td>
						</tr>
						<tr>
							<th>Dividends</th>
							<td>
								<div class='top' id="Dis30"></div>
								<div class='bottom' id="Dis30RR"></div>
							</td>
							<td>
								<div class='top' id="Dis90"></div>
								<div class='bottom' id="Dis90RR"></div>
							</td>
							<td>
								<div class='top' id="Dis180"></div>
								<div class='bottom' id="Dis180RR"></div>
							</td>
							<td id="DivTotal"></td>
						</tr>
						<tr>
							<th>Funded</th>
							<td>
								<div class='top' id="Fun30"></div>
								<div class='bottom' id="Fun30RR"></div>
							</td>
							<td>
								<div class='top' id="Fun90"></div>
								<div class='bottom' id="Fun90RR"></div>
							</td>
							<td>
								<div class='top' id="Fun180"></div>
								<div class='bottom' id="Fun180RR"></div>
							</td>
							<td id="FunTotal"></td>
						</tr>
							<th>Rewarded</th>
							<td>
								<div class='top' id="Rew30"></div>
								<div class='bottom' id="Rew30RR"></div>
							</td>
							<td>
								<div class='top' id="Rew90"></div>
								<div class='bottom' id="Rew90RR"></div>
							</td>
							<td>
								<div class='top' id="Rew180"></div>
								<div class='bottom' id="Rew180RR"></div>
							</td>
							<td id="RewTotal"></td>
					</tbody>
				</table>
			</div>
		</div>
	</div></body>
</html>