
<html>
	<head>
		<title>Test results for: tests/games/InstaDice.test.js</title>
		<style>
			body {
				background: #FFF;
				padding: 10px;
			}
			pre {
				font-family: Consolas, 'Courier New';
				font-size: 75%;
			}
		</style>
	</head>
	<body>
		<h1>Test results for: tests/games/InstaDice.test.js</h1>
		<pre>
  ========================================= 
  =========== <span style="color:#000"><b> SMOCHA STARTING </b><span style="color:#000"> ===========
  ========================================= 

<span style="color:#AAA">├ <span style="color:#000"> <b>File: tests/games/InstaDice.test.js</b> </span></span></span></span> 
<span style="color:#AAA">│  ├ <span style="color:#000"> <b><span style="color:#000">InstaDice<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  ├ <span style="color:#000"> before: Set up Registry and InstaDice. </span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> </span></span><i><span style="color:#555">Create a Registry, with ADMIN and TREASURY set.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ newTx: Registry.new(<u>owner</u>, {from: <u>anon</u>}) was successful (block 544, 669491 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>registry</u>.register("ADMIN", <u>admin</u>, {from: <u>owner</u>}) was successful (block 545, 91573 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>registry</u>.register("TREASURY", <u>dummyTreasury</u>, {from: <u>owner</u>}) was successful (block 546, 91765 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> </span></span><i><span style="color:#555">Create the dice contract that we will be testing.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ newTx: InstaDice.new(<u>registry</u>, {from: <u>anon</u>}) was successful (block 547, 3621133 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> </span></span><i><span style="color:#555">Create instance of MaliciousRoller to be used later<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ newTx: MaliciousRoller.new(, {from: <u>anon</u>}) was successful (block 548, 206521 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Named Addresses:<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  admin:           0x28428219b2a75191775d55abfa0c9b49b6d068e0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  anon:            0x0d31b8a0ac02e2d75d5d8a38ff9f720faad4776c<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  dice:            0x47bc310b7dcbe7969e58151c3d789bc83dd7bef3<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  dummyTreasury:   0x6d6e7efa4f8ce4932ba3a95641a88e05b2bf2c57<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  maliciousRoller: 0xa3e7f10ffa28699ddff46bff0955a5408fed4b65<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  owner:           0xf6190b65560fca1bd5f84d815ab75db13e035cd3<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  player1:         0x771e73c55e8aba9cbfecbfd808f3734263cc64de<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  player2:         0x64a7383400204cfa493dca5cd9bb07507b22d56a<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  player3:         0x5048b489a37d552285368f52cc661b189a1f25b0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  registry:        0xeb3b1a68b12cea750df2e81ad7bb897067a01ff3<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (750 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  ├ <span style="color:#000"> <b><span style="color:#000">Funding<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Anyone can add funding </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Entry should be added to front of mappings.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>dice</u>.addBankroll({from: <u>anon</u>, value: 0.5 ETH}) was successful (block 549, 138719 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>dice</u> changed by 0.5 ETH.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>anon</u> gained -0.5 ETH but lost txFee (693595 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BankrollAdded(time, bankroller, amount, bankroll)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.bankroll.call() returns 0.5 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.bankrollAvailable.call() returns 0.5 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.bankrolledBy.call(<u>anon</u>) returns 0.5 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ Ledger[0xb142...].balances.call() returns [[<u>anon</u>], [0.5 ETH]]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.profits.call() returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (945 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> curMaxBet is correct </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.curMaxBet.call() returns 0.0025 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (60 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  ├ <span style="color:#000"> <b><span style="color:#000">.changeSettings()<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> is not callable from anon </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>dice</u>.changeSettings(1 GWei, 0.6 ETH, 5, 99, 125, {from: <u>anon</u>}) failed<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (40 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> works from admin </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> </span></span><i><span style="color:#555">Admin can change minBet, maxBet, minNumber, maxNumber, and feeBips<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>dice</u>.changeSettings(1 GWei, 0.6 ETH, 5, 99, 125, {from: <u>admin</u>}) was successful (block 551, 33304 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'SettingsChanged(time, admin)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.minBet.call() returns 1 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.maxBet.call() returns 0.6 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.minNumber.call() returns 5<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.maxNumber.call() returns 99<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.feeBips.call() returns 125<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (162 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  ├ <span style="color:#000"> <b><span style="color:#000">Rolling restrictions<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Cannot roll tiny amount </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>dice</u>.roll(50, {value: 0.999999999 GWei, from: <u>player1</u>}) was successful (block 552, 34013 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RollRefunded(time, user, msg, bet, number)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>dice</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-170065 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.numRolls.call() returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (700 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Cannot roll huge amount </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>dice</u>.roll(50, {value: 0.600000000000000001 ETH, from: <u>player1</u>}) was successful (block 553, 34053 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RollRefunded(time, user, msg, bet, number)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>dice</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-170265 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.numRolls.call() returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (681 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Cannot roll with number too small </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>dice</u>.roll(4, {value: 1 GWei, from: <u>player1</u>}) was successful (block 554, 33932 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RollRefunded(time, user, msg, bet, number)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>dice</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-169660 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.numRolls.call() returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (685 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Cannot roll with number too large </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>dice</u>.roll(100, {value: 1 GWei, from: <u>player1</u>}) was successful (block 555, 33979 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RollRefunded(time, user, msg, bet, number)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>dice</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-169895 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.numRolls.call() returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (743 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Rejects rolls when balance is too small<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Reduce bankroll to small amount </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> </span></span><i><span style="color:#555">Remove bankroll so that balance is very small.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Entry should be decreased.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>dice</u>.removeBankroll(0.499999999999999999 ETH, "", {from: <u>anon</u>}) was successful (block 556, 54778 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>dice</u> changed by -0.499999999999999999 ETH.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>anon</u> gained 0.499999999999999999 ETH but lost txFee (273890 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BankrollRemoved(time, bankroller, amount, bankroll)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.profits.call() returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.bankroll.call() returns 1<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.bankrolledBy.call(<u>anon</u>) returns 1<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ Ledger[0xb142...].balances.call() returns [[<u>anon</u>], [1]]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (989 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Should not allow a bet </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> </span></span><i><span style="color:#555">Player should not be able to place a wager, due to low balance.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>dice</u>.roll(5, {value: 0.6 ETH, from: <u>player1</u>}) was successful (block 557, 35577 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RollRefunded(time, user, msg, bet, number)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>dice</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-177885 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.numRolls.call() returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (695 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Restores bankroll </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> </span></span><i><span style="color:#555">Add a lot of bankroll back.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Entry should be increased.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>dice</u>.addBankroll({from: <u>anon</u>, value: 1 ETH}) was successful (block 558, 47452 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>dice</u> changed by 1 ETH.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>anon</u> gained -1 ETH but lost txFee (237260 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BankrollAdded(time, bankroller, amount, bankroll)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.bankroll.call() returns 1.000000000000000001 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.bankrollAvailable.call() returns 1.000000000000000001 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.bankrolledBy.call(<u>anon</u>) returns 1.000000000000000001 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ Ledger[0xb142...].balances.call() returns [[<u>anon</u>], [1.000000000000000001 ETH]]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.profits.call() returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (859 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  ├ <span style="color:#000"> <b><span style="color:#000">Rolling<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Player 1 can roll </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">This roll should assign userId 1 to the bettor.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">=== Simluating finalization of previous roll ===<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Roll #0: Does not exist. Will do nothing.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>dice</u>.roll(50, {value: 1 GWei, from: <u>player1</u>}) was successful (block 559, 54877 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 559 to 560.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RollWagered(id, user, bet, number, payout)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>dice</u> changed by 1 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> gained -1 GWei but lost txFee (274385 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.users.call(<u>player1</u>) returns [1, 1, 559, 50, 1.975 GWei]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.numRolls.call() returns 1<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.totalWagered.call() returns 1.000000001 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.totalWon.call() returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 56000 gas used (54877)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">This roll should lose with a result of 63.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.computeResult.call(559, 1) returns 63<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1354 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Player 1 can roll again </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">This bettor has user id of 1.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">=== Simluating finalization of previous roll ===<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Roll #1: Should finalize as LOSS with roll of 63>=50.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Will expect correct RollFinalized log for roll #1.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>dice</u>.roll(50, {value: 1 GWei, from: <u>player1</u>}) was successful (block 561, 42890 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 561 to 562.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 2 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RollWagered(id, user, bet, number, payout)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RollFinalized(time, id, user, result, payout)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>dice</u> changed by 1 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> gained -1 GWei but lost txFee (214450 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.users.call(<u>player1</u>) returns [1, 2, 561, 50, 1.975 GWei]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.numRolls.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.totalWagered.call() returns 2.000000001 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.totalWon.call() returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 44000 gas used (42890)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">This roll should win with a result of 14.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.computeResult.call(561, 2) returns 14<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1433 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Player 1 can roll again </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">This bettor has user id of 1.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">=== Simluating finalization of previous roll ===<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Roll #2: Should finalize as WIN with roll of 14<=50.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Will expect to see correct deltas and PayoutSuccess log.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Will expect correct RollFinalized log for roll #2.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>dice</u>.roll(50, {value: 1 GWei, from: <u>player1</u>}) was successful (block 563, 50499 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 563 to 564.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 2 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RollWagered(id, user, bet, number, payout)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RollFinalized(time, id, user, result, payout)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>dice</u> changed by -0.975 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> gained 0.975 GWei but lost txFee (252495 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.users.call(<u>player1</u>) returns [1, 3, 563, 50, 1.975 GWei]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.numRolls.call() returns 3<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.totalWagered.call() returns 3.000000001 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.totalWon.call() returns 1.975 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 52000 gas used (50499)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">This roll should lose with a result of 62.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.computeResult.call(563, 3) returns 62<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1445 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Player 2 can roll </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">This roll should assign userId 2 to the bettor.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">=== Simluating finalization of previous roll ===<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Roll #0: Does not exist. Will do nothing.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>dice</u>.roll(50, {value: 2 GWei, from: <u>player2</u>}) was successful (block 565, 54877 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 565 to 566.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RollWagered(id, user, bet, number, payout)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>dice</u> changed by 2 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> gained -2 GWei but lost txFee (274385 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.users.call(<u>player2</u>) returns [2, 4, 565, 50, 3.95 GWei]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.numRolls.call() returns 4<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.totalWagered.call() returns 5.000000001 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.totalWon.call() returns 1.975 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 56000 gas used (54877)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">This roll should lose with a result of 98.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.computeResult.call(565, 4) returns 98<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1274 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Player 3 can roll </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">This roll should assign userId 3 to the bettor.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">=== Simluating finalization of previous roll ===<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Roll #0: Does not exist. Will do nothing.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>dice</u>.roll(50, {value: 3 GWei, from: <u>player3</u>}) was successful (block 567, 54877 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 567 to 568.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RollWagered(id, user, bet, number, payout)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>dice</u> changed by 3 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player3</u> gained -3 GWei but lost txFee (274385 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.users.call(<u>player3</u>) returns [3, 5, 567, 50, 5.925 GWei]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.numRolls.call() returns 5<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.totalWagered.call() returns 8.000000001 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.totalWon.call() returns 1.975 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 56000 gas used (54877)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">This roll should lose with a result of 80.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.computeResult.call(567, 5) returns 80<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1270 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Player 2 can roll again </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">This bettor has user id of 2.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">=== Simluating finalization of previous roll ===<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Roll #4: Should finalize as LOSS with roll of 98>=50.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Will expect correct RollFinalized log for roll #4.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>dice</u>.roll(50, {value: 2 GWei, from: <u>player2</u>}) was successful (block 569, 42890 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 569 to 570.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 2 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RollWagered(id, user, bet, number, payout)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RollFinalized(time, id, user, result, payout)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>dice</u> changed by 2 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> gained -2 GWei but lost txFee (214450 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.users.call(<u>player2</u>) returns [2, 6, 569, 50, 3.95 GWei]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.numRolls.call() returns 6<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.totalWagered.call() returns 10.000000001 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.totalWon.call() returns 1.975 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 44000 gas used (42890)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">This roll should win with a result of 8.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.computeResult.call(569, 6) returns 8<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1383 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Player 3 can roll again </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">This bettor has user id of 3.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">=== Simluating finalization of previous roll ===<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Roll #5: Should finalize as LOSS with roll of 80>=50.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Will expect correct RollFinalized log for roll #5.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>dice</u>.roll(50, {value: 3 GWei, from: <u>player3</u>}) was successful (block 571, 42890 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 571 to 572.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 2 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RollWagered(id, user, bet, number, payout)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RollFinalized(time, id, user, result, payout)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>dice</u> changed by 3 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player3</u> gained -3 GWei but lost txFee (214450 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.users.call(<u>player3</u>) returns [3, 7, 571, 50, 5.925 GWei]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.numRolls.call() returns 7<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.totalWagered.call() returns 13.000000001 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.totalWon.call() returns 1.975 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 44000 gas used (42890)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">This roll should win with a result of 42.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.computeResult.call(571, 7) returns 42<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1458 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  ├ <span style="color:#000"> <b><span style="color:#000">Rolls on same block<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b></b></span></span><i><span style="color:#555">This attempts to roll for a player twice in the same block.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b></b></span></span><i><span style="color:#555">The second roll should be refunded.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Roll many times on the same block </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Stopped mining.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Submitted transaction for roll 1.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Submitted transaction for roll 2.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mining block now...<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 572 to 573.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">All txs executed on same block, in expected order.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (2718 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> First roll wagered, second roll refunded. </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ First Roll was successful (block 573, 50499 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RollWagered(time, user, bet, number, payout)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ Second Roll was successful (block 573, 35807 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RollRefunded(time, user, msg, bet, number)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.users.call(<u>player2</u>) returns [<null>, 8, 573, 10, 9.875 GWei]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.numRolls.call() returns 8<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.totalWagered.call() returns 14.000000001 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (100 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  ├ <span style="color:#000"> <b><span style="color:#000">Player can roll on next block.<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Player 2 can roll </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">This bettor has user id of 2.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">=== Simluating finalization of previous roll ===<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Roll #8: Should finalize as LOSS with roll of 88>=10.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Will expect correct RollFinalized log for roll #8.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>dice</u>.roll(90, {value: 1 GWei, from: <u>player2</u>}) was successful (block 574, 42890 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 574 to 575.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 2 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RollWagered(id, user, bet, number, payout)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RollFinalized(time, id, user, result, payout)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>dice</u> changed by 1 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> gained -1 GWei but lost txFee (214450 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.users.call(<u>player2</u>) returns [2, 9, 574, 90, 1.097222222 GWei]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.numRolls.call() returns 9<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.totalWagered.call() returns 15.000000001 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.totalWon.call() returns 5.925 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 44000 gas used (42890)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">This roll should win with a result of 65.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.computeResult.call(574, 9) returns 65<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1437 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  ├ <span style="color:#000"> <b><span style="color:#000">Roll and payout on same block<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b></b></span></span><i><span style="color:#555">This attempts to roll for a player, and then immediately payout.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b></b></span></span><i><span style="color:#555">The payout should error.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Roll and then attempt payout in same block. </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Stopped mining.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Submitted first tx: dice.roll()<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Sumitted second tx: dice.payoutPreviousRoll()<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mining block now...<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 575 to 576.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">All txs executed on same block, in expected order.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (2345 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> First roll wagered, payoutPreviousRoll() errored. </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ roll() was successful (block 576, 42890 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RollWagered(time, user, bet, number, payout)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ payoutPreviousRoll() was successful (block 576, 24375 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'PayoutError(time, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.users.call(<u>player1</u>) returns [<null>, 10, 576, 99, 0.997487061 GWei]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.numRolls.call() returns 10<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.totalWagered.call() returns 16.000012346 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (97 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  ├ <span style="color:#000"> <b><span style="color:#000">.payoutPreviousRoll()<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Works correctly </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Previous roll WON with 57<=99. Should win 997487061<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>dice</u>.payoutPreviousRoll({from: <u>player1</u>}) was successful (block 577, 44532 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RollFinalized(time, id, user, result, payout)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>dice</u> changed by -0.997487061 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> gained 0.997487061 GWei but lost txFee (222660 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.users.call(<u>player1</u>) returns [<null>, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.totalWon.call() returns 6.922487061 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 45000 gas used (44532)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (834 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Fails if called again </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>dice</u>.payoutPreviousRoll({from: <u>player1</u>}) was successful (block 578, 24341 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'PayoutError(time, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>dice</u> changed by 0 Wei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-121705 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (630 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  ├ <span style="color:#000"> <b><span style="color:#000">Test when payment fails<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> before: Fund malicious roller </span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (32 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> MaliciousRoller rolls with high win odds </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>maliciousRoller</u>.roll(<u>dice</u>, 99, 1 GWei, {from: <u>anon</u>}) was successful (block 580, 65150 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RollWagered(time, user, bet, number, payout)' was the only event from <u>dice</u><span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (189 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Next roll fails because could not be paid </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>maliciousRoller</u>.roll(<u>dice</u>, 99, 1 GWei, {from: <u>anon</u>, gas: 70000}) failed<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (198 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> .payoutPreviousRoll() fails because could not pay </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>maliciousRoller</u>.payoutPreviousRoll(<u>dice</u>, {from: <u>anon</u>, gas: 70000}) failed<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (165 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> .payoutPreviousRoll works with high gas </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>maliciousRoller</u>.payoutPreviousRoll(<u>dice</u>, {from: <u>anon</u>, gas: 500000}) was successful (block 583, 157753 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RollFinalized(time, id, user, result, payout)' was the only event from <u>dice</u><span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>dice</u> changed by -0.997474747 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>maliciousRoller</u> changed by 0.997474747 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.users.call(<u>maliciousRoller</u>) returns [<null>, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1025 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  ├ <span style="color:#000"> <b><span style="color:#000">Taking profits<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Try to generate a profit </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> </span></span><i><span style="color:#555">Depending on the above rolls, may or may not have a profit.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> </span></span><i><span style="color:#555">InstaDice has profits of: 9080050537.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (118 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Collects profits </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>dice</u>.sendProfits({from: <u>anon</u>}) was successful (block 584, 54952 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'ProfitsSent(time, treasury, amount)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>dice</u> changed by -9.080050537 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>dummyTreasury</u> changed by 9.080050537 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>anon</u> lost txFee (-274760 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.bankroll.call() returns 1.000000000000000001 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.profits.call() returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.profitsSent.call() returns 9.080050537 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>dice</u>.profitsTotal.call() returns 9.080050537 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1123 ms)<span style="color:#000"> </span></span></span></span> 

  =========== <span style="color:#0A0"><b> SMOCHA FINISHED SUCCESSFULLY </b><span style="color:#000"> ===========

  <span style="color:#0A0"><b>31</b><span style="color:#000"><span style="color:#0A0"> passed.<span style="color:#000"> <span style="color:#A00"><b>0</b><span style="color:#000"><span style="color:#A00"> errors.<span style="color:#000"> <span style="color:#555"><b>0</b><span style="color:#000"><span style="color:#555"> skipped.<span style="color:#000"> 28.26s

</span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>
	</body>
</html>
