
<html>
	<head>
		<title>Test results for: tests/games/VideoPoker.test.js</title>
		<style>
			body {
				background: #FFF;
				padding: 10px;
			}
			pre {
				font-family: Consolas, 'Courier New';
				font-size: 75%;
			}
		</style>
	</head>
	<body>
		<h1>Test results for: tests/games/VideoPoker.test.js</h1>
		<pre>
  ========================================= 
  =========== <span style="color:#000"><b> SMOCHA STARTING </b><span style="color:#000"> ===========
  ========================================= 

<span style="color:#AAA">├ <span style="color:#000"> <b>File: tests/games/VideoPoker.test.js</b> </span></span></span></span> 
<span style="color:#AAA">│  ├ <span style="color:#000"> <b><span style="color:#000">VideoPoker<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  ├ <span style="color:#000"> before: Set up VideoPoker contract. </span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> </span></span><i><span style="color:#555">Create a Registry, with ADMIN and TREASURY set.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ newTx: Registry.new(<u>regOwner</u>, {from: <u>anon</u>}) was successful (block 585, 669491 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>registry</u>.register("ADMIN", <u>admin</u>, {from: <u>regOwner</u>}) was successful (block 586, 91573 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>registry</u>.register("TREASURY", <u>dummyTreasury</u>, {from: <u>regOwner</u>}) was successful (block 587, 91765 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> </span></span><i><span style="color:#555">Create the VideoPoker instance.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ newTx: VideoPoker.new(<u>registry</u>, {from: <u>anon</u>, gas: 0.006 GWei}) was successful (block 588, 5496772 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Named Addresses:<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  admin:         0xf6190b65560fca1bd5f84d815ab75db13e035cd3<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  anon:          0x28428219b2a75191775d55abfa0c9b49b6d068e0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  dummyTreasury: 0x6d6e7efa4f8ce4932ba3a95641a88e05b2bf2c57<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  player1:       0x771e73c55e8aba9cbfecbfd808f3734263cc64de<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  player2:       0x64a7383400204cfa493dca5cd9bb07507b22d56a<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  player3:       0x5048b489a37d552285368f52cc661b189a1f25b0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  registry:      0x6a64be424c24300a7d3ef243d4be1e68e2516d05<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  regOwner:      0xfff75b94810214ac20076e1e2c8bedf5af05f92c<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  videoPoker:    0xc6e3cdcd8e259138c0db8a82d0329d17515f1d84<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (689 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  ├ <span style="color:#000"> <b><span style="color:#000">Check settings<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Current paytable is the default </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curPayTableId.call() returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.numPayTables.call() returns 1<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getPayTable.call(0) returns [0, 800, 50, 25, 9, 6, 4, 3, 2, 1, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (98 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> minBet and maxBet are as expected </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.minBet.call() returns 0.001 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.maxBet.call() returns 0.5 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curMaxBet.call() returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (68 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> curMaxBet is 0, since there's no balance </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curMaxBet.call() returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (19 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  ├ <span style="color:#000"> <b><span style="color:#000">Adding funding.<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Anyone can add funding </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Entry should be added to front of mappings.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.addBankroll({from: <u>anon</u>, value: 5 ETH}) was successful (block 589, 138763 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 5 ETH.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>anon</u> gained -5 ETH but lost txFee (693815 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BankrollAdded(time, bankroller, amount, bankroll)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.bankroll.call() returns 5 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.bankrollAvailable.call() returns 5 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.bankrolledBy.call(<u>anon</u>) returns 5 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ Ledger[0xd9aa...].balances.call() returns [[<u>anon</u>], [5 ETH]]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.profits.call() returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (964 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> .curMaxBet() is correct value. </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curMaxBet.call() returns 0.003125 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (100 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  ├ <span style="color:#000"> <b><span style="color:#000">Admin Functions<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">.addPayTable()<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> is not callable from anon </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.addPayTable(801, 51, 26, 10, 7, 5, 4, 3, 2, {from: <u>anon</u>}) failed<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (35 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> works from admin </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.addPayTable(801, 51, 26, 10, 7, 5, 4, 3, 2, {from: <u>admin</u>}) was successful (block 591, 142922 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'PayTableAdded(time, admin, payTableId)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getPayTable.call(1) returns [0, 801, 51, 26, 10, 7, 5, 4, 3, 2, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.numPayTables.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (178 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> doesn't work again (same day) </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.addPayTable(801, 51, 26, 10, 7, 5, 4, 3, 2, {from: <u>admin</u>}) failed<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (41 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> works the next day </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 592 to 593.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Fast forwarded 86401 seconds<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.addPayTable(801, 51, 26, 10, 7, 5, 4, 3, 2, {from: <u>admin</u>}) was successful (block 594, 142922 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'PayTableAdded(time, admin, payTableId)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getPayTable.call(2) returns [0, 801, 51, 26, 10, 7, 5, 4, 3, 2, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.numPayTables.call() returns 3<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (568 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">.changeSettings()<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> is not callable from anon </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.changeSettings(500000 GWei, 0.2 ETH, 1, {from: <u>anon</u>}) failed<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (38 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> works from admin </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.changeSettings(500000 GWei, 0.2 ETH, 1, {from: <u>admin</u>}) was successful (block 596, 33681 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'SettingsChanged(time, admin)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.minBet.call() returns 500000 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.maxBet.call() returns 0.2 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (106 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  ├ <span style="color:#000"> <b><span style="color:#000">Do a bunch of games.<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet too small<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <b></b></span></span><i><span style="color:#555">Will not test drawing or finalizing -- the bet should fail.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 2 tries to bet 0.00049 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should fail due to: Bet too small.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player1</u>, value: 499999.999999999 GWei}) was successful (block 597, 32568 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should be refunded.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> gained 0 Wei but lost txFee (162840 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetFailure(user, bet, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are unchanged.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 39000 gas used (32568)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (797 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet too large<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <b></b></span></span><i><span style="color:#555">Note: VideoPoker cannot afford to pay out two max-bet Royal Flushes.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <b></b></span></span><i><span style="color:#555">Will not test drawing or finalizing -- the bet should fail.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 3 tries to bet 0.20000 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should fail due to: Bet too large.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player2</u>, value: 0.200000000000000001 ETH}) was successful (block 598, 32336 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should be refunded.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> gained 0 Wei but lost txFee (161680 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetFailure(user, bet, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are unchanged.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 39000 gas used (32336)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (801 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet above curMaxBet<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <b></b></span></span><i><span style="color:#555">Note: VideoPoker cannot afford to pay out two max-bet Royal Flushes.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <b></b></span></span><i><span style="color:#555">Will not test drawing or finalizing -- the bet should fail.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 2 tries to bet 0.00312 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should fail due to: The bankroll is too low.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player1</u>, value: 0.003121098626716605 ETH}) was successful (block 599, 34292 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should be refunded.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> gained 0 Wei but lost txFee (171460 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetFailure(user, bet, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are unchanged.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 39000 gas used (34292)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (898 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and draw invalid cards<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 2 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: New user -- curUserId should change to 1<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player1</u>, value: 500000 GWei}) was successful (block 600, 93980 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> gained -500000 GWei but lost txFee (469900 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(1) returns [1, 500000 GWei, 1, 600, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [3h, 8h, 2h, Kd, 10h (379118863) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 600 to 601.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(1) returns 0.379118863 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 1<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 1<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 96000 gas used (93980)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1292 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 1 with 0,0,0,0,0,1. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should fail due to: Invalid draws.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 600): 0x7fbf7e3bc8faf3b610d7eba0b8e48951d8456b9faf2f6903bd8b0bb3cffbdb5d<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(1, 32, bytes32(0x7fbf7e3bc8faf3b61...), {from: <u>player1</u>}) was successful (block 602, 30057 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-150285 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Game should remain unmodified.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(1) returns [1, 500000 GWei, 1, 600, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 32000 gas used (30057)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (918 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 1. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [3h, 8h, 2h, Kd, 10h (379118863) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should not win.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid hashCheck fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(1, bytes32(0x4b1e8e50e6e846249...), {from: <u>player1</u>}) was successful (block 603, 31525 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(1, bytes32(0x7fbf7e3bc8faf3b61...), {from: <u>player2</u>}) was successful (block 604, 28856 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 600: 0x7fbf7e3bc8faf3b610d7eba0b8e48951d8456b9faf2f6903bd8b0bb3cffbdb5d<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(1, bytes32(0x7fbf7e3bc8faf3b61...), {from: <u>player1</u>}) was successful (block 605, 49765 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-248825 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(1) returns [1, 500000 GWei, 1, 600, 0.379118863 GWei, 0, 0, 0.379118863 GWei, 10]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are the same<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player1</u>) returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(1, 31, bytes32(0x7fbf7e3bc8faf3b61...), {from: <u>player1</u>}) was successful (block 606, 30386 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(1, bytes32(0x7fbf7e3bc8faf3b61...), {from: <u>player1</u>}) was successful (block 607, 29772 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1818 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and draw first card<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 3 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: New user -- curUserId should change to 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player2</u>, value: 500000 GWei}) was successful (block 608, 93980 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> gained -500000 GWei but lost txFee (469900 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(2) returns [2, 500000 GWei, 1, 608, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [Ac, 8h, As, 8s, Jd (605816103) Two Pair]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 608 to 609.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(2) returns 0.605816103 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 96000 gas used (93980)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1350 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 2 with 0,0,0,0,1. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid hashCheck fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 609 to 610.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(2, 16, bytes32(0xfda85a95e9fffbe4c...), {from: <u>player2</u>}) was successful (block 611, 31448 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(2, 16, bytes32(0xed5016b8102e22361...), {from: <u>player3</u>}) was successful (block 612, 29353 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 608): 0xed5016b8102e223614ecd636dec58ce78400b1c33f142973b08f1630ecd81d21<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(2, 16, bytes32(0xed5016b8102e22361...), {from: <u>player2</u>}) was successful (block 613, 37826 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> lost txFee (-189130 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawSuccess(time, user, id, iHand, draws, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(2) returns [2, 500000 GWei, 1, 608, 0.605816103 GWei, 16, 613, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert dHand is returned as expected.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">"0x1611b1b85a8a363817f72f2c119f38f07cea77fa819926fbae8375bc63316179", 2, 605816103, 16<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">After drawing, dHand should be: [Ac, 8h, As, 8s, 4h (270271783) Two Pair]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 613 to 614.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getDHand.call(2) returns 0.270271783 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 39000 gas used (37826)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(2, 16, bytes32(0xed5016b8102e22361...), {from: <u>player2</u>}) was successful (block 615, 29961 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (2031 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 2. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [Ac, 8h, As, 8s, 4h (270271783) Two Pair]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should win 0.00150 ETH from handrank 8<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(2, bytes32(0xed5016b8102e22361...), {from: <u>player3</u>}) was successful (block 616, 28792 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 608: 0xed5016b8102e223614ecd636dec58ce78400b1c33f142973b08f1630ecd81d21<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(2, bytes32(0xed5016b8102e22361...), {from: <u>player2</u>}) was successful (block 617, 74707 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> lost txFee (-373535 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 2 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'CreditsAdded(time, user, id, amount)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(2) returns [2, 500000 GWei, 1, 608, 0.605816103 GWei, 16, 613, 0.270271783 GWei, 8]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are increased<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player2</u>) returns 0.0015 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.0015 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.0015 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.0015 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(2, 31, bytes32(0xed5016b8102e22361...), {from: <u>player2</u>}) was successful (block 618, 29961 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(2, bytes32(0xed5016b8102e22361...), {from: <u>player2</u>}) was successful (block 619, 29708 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1770 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and draw second card<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 2 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player1</u>, value: 500000 GWei}) was successful (block 620, 53276 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> gained -500000 GWei but lost txFee (266380 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(3) returns [1, 500000 GWei, 1, 620, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [2h, 10d, 8d, Jc, 8c (784734414) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 620 to 621.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(3) returns 0.784734414 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 3<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 55000 gas used (53276)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1341 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 3 with 0,0,0,1,0. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid hashCheck fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 621 to 622.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(3, 8, bytes32(0x35a58a4178a2c8941...), {from: <u>player1</u>}) was successful (block 623, 31448 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(3, 8, bytes32(0xb57119da9e84d7e3b...), {from: <u>player2</u>}) was successful (block 624, 29417 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 620): 0xb57119da9e84d7e3b387291648874e70cf04f868c828df205d51db098747f485<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(3, 8, bytes32(0xb57119da9e84d7e3b...), {from: <u>player1</u>}) was successful (block 625, 37940 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-189700 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawSuccess(time, user, id, iHand, draws, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(3) returns [1, 500000 GWei, 1, 620, 0.784734414 GWei, 8, 625, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert dHand is returned as expected.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">"0x602a977efb80a94980b7b81e1faff33806d70dec9619b5d6c866dfc4e3a8ba4b", 3, 784734414, 8<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">After drawing, dHand should be: [2h, 10d, 8d, Qd, 8c (781588686) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 625 to 626.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getDHand.call(3) returns 0.781588686 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 39000 gas used (37940)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(3, 8, bytes32(0xb57119da9e84d7e3b...), {from: <u>player1</u>}) was successful (block 627, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (2256 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 3. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [2h, 10d, 8d, Qd, 8c (781588686) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should not win.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(3, bytes32(0xb57119da9e84d7e3b...), {from: <u>player2</u>}) was successful (block 628, 28856 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 620: 0xb57119da9e84d7e3b387291648874e70cf04f868c828df205d51db098747f485<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(3, bytes32(0xb57119da9e84d7e3b...), {from: <u>player1</u>}) was successful (block 629, 47384 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-236920 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(3) returns [1, 500000 GWei, 1, 620, 0.784734414 GWei, 8, 625, 0.781588686 GWei, 10]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are the same<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player1</u>) returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.0015 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.0015 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.0015 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(3, 31, bytes32(0xb57119da9e84d7e3b...), {from: <u>player1</u>}) was successful (block 630, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(3, bytes32(0xb57119da9e84d7e3b...), {from: <u>player1</u>}) was successful (block 631, 29772 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1778 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and draw third card<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 3 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player2</u>, value: 500000 GWei}) was successful (block 632, 53276 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> gained -500000 GWei but lost txFee (266380 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(4) returns [2, 500000 GWei, 1, 632, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [Jc, 3h, 7h, 7d, Kh (427897841) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 632 to 633.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(4) returns 0.427897841 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 4<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 55000 gas used (53276)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1339 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 4 with 0,0,1,0,0. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid hashCheck fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 633 to 634.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(4, 4, bytes32(0x77d6c2f9e7cadf7d1...), {from: <u>player2</u>}) was successful (block 635, 31448 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(4, 4, bytes32(0x3114f6456b00f0c31...), {from: <u>player3</u>}) was successful (block 636, 29353 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 632): 0x3114f6456b00f0c315c88feb32a33ba1ecb82a7594f498b171f5f2439fce6a16<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(4, 4, bytes32(0x3114f6456b00f0c31...), {from: <u>player2</u>}) was successful (block 637, 37876 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> lost txFee (-189380 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawSuccess(time, user, id, iHand, draws, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(4) returns [2, 500000 GWei, 1, 632, 0.427897841 GWei, 4, 637, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert dHand is returned as expected.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">"0x3a8be0377438d56293840de785d58697e82681a9fd9c44c6650a334130e5bc75", 4, 427897841, 4<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">After drawing, dHand should be: [Jc, 3h, 9h, 7d, Kh (427906033) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 637 to 638.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getDHand.call(4) returns 0.427906033 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 39000 gas used (37876)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(4, 4, bytes32(0x3114f6456b00f0c31...), {from: <u>player2</u>}) was successful (block 639, 29961 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (2197 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 4. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [Jc, 3h, 9h, 7d, Kh (427906033) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should not win.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(4, bytes32(0x3114f6456b00f0c31...), {from: <u>player3</u>}) was successful (block 640, 28792 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 632: 0x3114f6456b00f0c315c88feb32a33ba1ecb82a7594f498b171f5f2439fce6a16<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(4, bytes32(0x3114f6456b00f0c31...), {from: <u>player2</u>}) was successful (block 641, 47407 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> lost txFee (-237035 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(4) returns [2, 500000 GWei, 1, 632, 0.427897841 GWei, 4, 637, 0.427906033 GWei, 10]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are the same<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player2</u>) returns 0.0015 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.0015 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.0015 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.0015 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(4, 31, bytes32(0x3114f6456b00f0c31...), {from: <u>player2</u>}) was successful (block 642, 29961 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(4, bytes32(0x3114f6456b00f0c31...), {from: <u>player2</u>}) was successful (block 643, 29708 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1719 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and draw fourth<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 2 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player1</u>, value: 500000 GWei}) was successful (block 644, 53276 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> gained -500000 GWei but lost txFee (266380 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(5) returns [1, 500000 GWei, 1, 644, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [5s, 3h, 2c, 10h, 9h (358253508) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 644 to 645.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(5) returns 0.358253508 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 5<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 55000 gas used (53276)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1351 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 5 with 0,1,0,0,0. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid hashCheck fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 645 to 646.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(5, 2, bytes32(0x3e4dc04c767b3e691...), {from: <u>player1</u>}) was successful (block 647, 31384 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(5, 2, bytes32(0x57d739c7489b5b28a...), {from: <u>player2</u>}) was successful (block 648, 29417 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 644): 0x57d739c7489b5b28ac948f61147656f611177c39b4b352d64dc2f3664ce66030<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(5, 2, bytes32(0x57d739c7489b5b28a...), {from: <u>player1</u>}) was successful (block 649, 38149 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-190745 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawSuccess(time, user, id, iHand, draws, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(5) returns [1, 500000 GWei, 1, 644, 0.358253508 GWei, 2, 649, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert dHand is returned as expected.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">"0x65e79b3ef7412c9133850bfc207b4797db9a6d1d013201684147c574f940aacc", 5, 358253508, 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">After drawing, dHand should be: [5s, Ah, 2c, 10h, 9h (358253380) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 649 to 650.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getDHand.call(5) returns 0.35825338 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 39000 gas used (38149)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(5, 2, bytes32(0x57d739c7489b5b28a...), {from: <u>player1</u>}) was successful (block 651, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (2185 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 5. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [5s, Ah, 2c, 10h, 9h (358253380) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should not win.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(5, bytes32(0x57d739c7489b5b28a...), {from: <u>player2</u>}) was successful (block 652, 28856 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 644: 0x57d739c7489b5b28ac948f61147656f611177c39b4b352d64dc2f3664ce66030<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(5, bytes32(0x57d739c7489b5b28a...), {from: <u>player1</u>}) was successful (block 653, 47449 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-237245 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(5) returns [1, 500000 GWei, 1, 644, 0.358253508 GWei, 2, 649, 0.35825338 GWei, 10]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are the same<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player1</u>) returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.0015 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.0015 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.0015 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(5, 31, bytes32(0x57d739c7489b5b28a...), {from: <u>player1</u>}) was successful (block 654, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(5, bytes32(0x57d739c7489b5b28a...), {from: <u>player1</u>}) was successful (block 655, 29772 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1787 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and draw fifth<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 3 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player2</u>, value: 500000 GWei}) was successful (block 656, 53276 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> gained -500000 GWei but lost txFee (266380 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(6) returns [2, 500000 GWei, 1, 656, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [10d, 6d, 5d, 4s, 10s (151906275) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 656 to 657.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(6) returns 0.151906275 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 6<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 55000 gas used (53276)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1419 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 6 with 1,0,0,0,0. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid hashCheck fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 657 to 658.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(6, 1, bytes32(0x7fe546d3f10f3da2e...), {from: <u>player2</u>}) was successful (block 659, 31448 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(6, 1, bytes32(0xc5b94fc44d624e4c4...), {from: <u>player3</u>}) was successful (block 660, 29417 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 656): 0xc5b94fc44d624e4c4ac89b510ea74cb7a7f25d19f396c4fd103f3aea63a9ccc2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(6, 1, bytes32(0xc5b94fc44d624e4c4...), {from: <u>player2</u>}) was successful (block 661, 37940 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> lost txFee (-189700 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawSuccess(time, user, id, iHand, draws, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(6) returns [2, 500000 GWei, 1, 656, 0.151906275 GWei, 1, 661, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert dHand is returned as expected.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">"0x6eaaa2e0743117b754d4391df39e2ba217b3898ca44a8d95afd995a93cc84b67", 6, 151906275, 1<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">After drawing, dHand should be: [10h, 6d, 5d, 4s, 10s (151906262) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 661 to 662.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getDHand.call(6) returns 0.151906262 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 39000 gas used (37940)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(6, 1, bytes32(0xc5b94fc44d624e4c4...), {from: <u>player2</u>}) was successful (block 663, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (2103 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 6. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [10h, 6d, 5d, 4s, 10s (151906262) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should not win.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(6, bytes32(0xc5b94fc44d624e4c4...), {from: <u>player3</u>}) was successful (block 664, 28856 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 656: 0xc5b94fc44d624e4c4ac89b510ea74cb7a7f25d19f396c4fd103f3aea63a9ccc2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(6, bytes32(0xc5b94fc44d624e4c4...), {from: <u>player2</u>}) was successful (block 665, 47133 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> lost txFee (-235665 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(6) returns [2, 500000 GWei, 1, 656, 0.151906275 GWei, 1, 661, 0.151906262 GWei, 10]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are the same<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player2</u>) returns 0.0015 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.0015 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.0015 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.0015 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(6, 31, bytes32(0xc5b94fc44d624e4c4...), {from: <u>player2</u>}) was successful (block 666, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(6, bytes32(0xc5b94fc44d624e4c4...), {from: <u>player2</u>}) was successful (block 667, 29772 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1684 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and draw all cards<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 2 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player1</u>, value: 500000 GWei}) was successful (block 668, 53276 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> gained -500000 GWei but lost txFee (266380 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(7) returns [1, 500000 GWei, 1, 668, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [6h, Jc, 10c, 3d, 3s (41094226) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 668 to 669.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(7) returns 0.041094226 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 7<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 55000 gas used (53276)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1299 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 7 with 1,1,1,1,1. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid hashCheck fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 669 to 670.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(7, 31, bytes32(0x8ae5ec5ec48e1b8e5...), {from: <u>player1</u>}) was successful (block 671, 31448 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(7, 31, bytes32(0x34a47c59e2e45ce83...), {from: <u>player2</u>}) was successful (block 672, 29417 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 668): 0x34a47c59e2e45ce83b341aecc23e4fc86976354fc91bc03804bde87cb9ff3afe<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(7, 31, bytes32(0x34a47c59e2e45ce83...), {from: <u>player1</u>}) was successful (block 673, 37940 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-189700 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawSuccess(time, user, id, iHand, draws, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(7) returns [1, 500000 GWei, 1, 668, 0.041094226 GWei, 31, 673, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert dHand is returned as expected.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">"0x554c626fd977416516cc4e49e1b7f463dd92f0599151a8d2e351c5c64866c267", 7, 41094226, 31<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">After drawing, dHand should be: [Jh, Ah, 5h, 10h, Jd (609817431) Jacks or Better]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 673 to 674.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getDHand.call(7) returns 0.609817431 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 39000 gas used (37940)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(7, 31, bytes32(0x34a47c59e2e45ce83...), {from: <u>player1</u>}) was successful (block 675, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (2087 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 7. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [Jh, Ah, 5h, 10h, Jd (609817431) Jacks or Better]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should win 0.00100 ETH from handrank 9<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(7, bytes32(0x34a47c59e2e45ce83...), {from: <u>player2</u>}) was successful (block 676, 28856 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 668: 0x34a47c59e2e45ce83b341aecc23e4fc86976354fc91bc03804bde87cb9ff3afe<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(7, bytes32(0x34a47c59e2e45ce83...), {from: <u>player1</u>}) was successful (block 677, 74367 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-371835 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 2 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'CreditsAdded(time, user, id, amount)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(7) returns [1, 500000 GWei, 1, 668, 0.041094226 GWei, 31, 673, 0.609817431 GWei, 9]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are increased<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player1</u>) returns 0.001 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.0025 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.0025 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.0025 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(7, 31, bytes32(0x34a47c59e2e45ce83...), {from: <u>player1</u>}) was successful (block 678, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(7, bytes32(0x34a47c59e2e45ce83...), {from: <u>player1</u>}) was successful (block 679, 29772 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1699 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and draw nothing<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 3 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player2</u>, value: 500000 GWei}) was successful (block 680, 53276 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> gained -500000 GWei but lost txFee (266380 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(8) returns [2, 500000 GWei, 1, 680, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [4h, 9h, 3d, 9s, Qh (404866384) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 680 to 681.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(8) returns 0.404866384 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 8<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 55000 gas used (53276)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1279 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 8 with 0,0,0,0,0. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should fail due to: Cannot draw 0 cards. Use finalize instead.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 680): 0xa966ff5cef84b822433f430e2a9d0765c15f19b7a312e00b77231e539f3720d8<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(8, 0, bytes32(0xa966ff5cef84b8224...), {from: <u>player2</u>}) was successful (block 682, 30366 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> lost txFee (-151830 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Game should remain unmodified.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(8) returns [2, 500000 GWei, 1, 680, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 32000 gas used (30366)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (913 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 8. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [4h, 9h, 3d, 9s, Qh (404866384) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should not win.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid hashCheck fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(8, bytes32(0x9b7caa0bbdbdcac1f...), {from: <u>player2</u>}) was successful (block 683, 31525 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(8, bytes32(0xa966ff5cef84b8224...), {from: <u>player3</u>}) was successful (block 684, 28856 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 680: 0xa966ff5cef84b822433f430e2a9d0765c15f19b7a312e00b77231e539f3720d8<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(8, bytes32(0xa966ff5cef84b8224...), {from: <u>player2</u>}) was successful (block 685, 49678 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> lost txFee (-248390 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(8) returns [2, 500000 GWei, 1, 680, 0.404866384 GWei, 0, 0, 0.404866384 GWei, 10]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are the same<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player2</u>) returns 0.0015 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.0025 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.0025 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.0025 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(8, 31, bytes32(0xa966ff5cef84b8224...), {from: <u>player2</u>}) was successful (block 686, 30386 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(8, bytes32(0xa966ff5cef84b8224...), {from: <u>player2</u>}) was successful (block 687, 29772 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1871 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and draw two cards<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 2 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player1</u>, value: 500000 GWei}) was successful (block 688, 53276 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> gained -500000 GWei but lost txFee (266380 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(9) returns [1, 500000 GWei, 1, 688, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [3d, Ad, Qd, 9h, Kc (861296284) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 688 to 689.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(9) returns 0.861296284 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 9<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 55000 gas used (53276)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1342 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 9 with 0,1,0,1,0. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid hashCheck fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 689 to 690.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(9, 10, bytes32(0x3f2ba456e8d84fe4d...), {from: <u>player1</u>}) was successful (block 691, 31448 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(9, 10, bytes32(0x9e17b816848da6d86...), {from: <u>player2</u>}) was successful (block 692, 29417 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 688): 0x9e17b816848da6d86642e9a87b3b0f2d47078fd72de2b2deefd4342c1e4f99ff<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(9, 10, bytes32(0x9e17b816848da6d86...), {from: <u>player1</u>}) was successful (block 693, 37940 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-189700 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawSuccess(time, user, id, iHand, draws, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(9) returns [1, 500000 GWei, 1, 688, 0.861296284 GWei, 10, 693, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert dHand is returned as expected.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">"0xccb1496c4f9f35cd760b6d0e4b77d8e508abd8c513498585279eaa3d3c6fb205", 9, 861296284, 10<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">After drawing, dHand should be: [3d, 9s, Qd, 2c, Kc (866275868) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 693 to 694.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getDHand.call(9) returns 0.866275868 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 39000 gas used (37940)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(9, 10, bytes32(0x9e17b816848da6d86...), {from: <u>player1</u>}) was successful (block 695, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (2049 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 9. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [3d, 9s, Qd, 2c, Kc (866275868) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should not win.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(9, bytes32(0x9e17b816848da6d86...), {from: <u>player2</u>}) was successful (block 696, 28856 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 688: 0x9e17b816848da6d86642e9a87b3b0f2d47078fd72de2b2deefd4342c1e4f99ff<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(9, bytes32(0x9e17b816848da6d86...), {from: <u>player1</u>}) was successful (block 697, 47570 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-237850 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(9) returns [1, 500000 GWei, 1, 688, 0.861296284 GWei, 10, 693, 0.866275868 GWei, 10]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are the same<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player1</u>) returns 0.001 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.0025 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.0025 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.0025 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(9, 31, bytes32(0x9e17b816848da6d86...), {from: <u>player1</u>}) was successful (block 698, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(9, bytes32(0x9e17b816848da6d86...), {from: <u>player1</u>}) was successful (block 699, 29772 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1684 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and draw, timeout initial hand<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 3 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player2</u>, value: 500000 GWei}) was successful (block 700, 53276 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> gained -500000 GWei but lost txFee (266380 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(10) returns [2, 500000 GWei, 1, 700, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [Ac, 5d, 10d, 3d, Ah (225589159) Jacks or Better]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 700 to 701.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(10) returns 0.225589159 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 10<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 55000 gas used (53276)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1280 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 10 with 0,0,1,1,0 after 256 blocks. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should succeed with warnCode 1 and draw all cards.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid hashCheck fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 701 to 702.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(10, 12, bytes32(0x05219384ad8003606...), {from: <u>player2</u>}) was successful (block 703, 31448 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(10, 12, bytes32(0x3fc1f84d4ea7189f5...), {from: <u>player3</u>}) was successful (block 704, 29417 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Fast-foward 256 blocks to simulate a timeout.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 256 blocks. BlockNumber increased from 704 to 960.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 700): 0x3fc1f84d4ea7189f5a4f157fff97add1716ab3957b36bc3566b53c774fcd8559<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(10, 12, bytes32(0x3fc1f84d4ea7189f5...), {from: <u>player2</u>}) was successful (block 961, 35946 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> lost txFee (-179730 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawSuccess(time, user, id, iHand, draws, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Too many blocks passed! iHand should be 0, and draws should be 31.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(10) returns [2, 500000 GWei, 1, 700, 0, 31, 961, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert dHand is returned as expected.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">"0x013575159250ceb90fc46c1b1677b3dfd34158f476f616c736edb822e9c72c30", 10, 0, 31<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">After drawing, dHand should be: [Kd, Js, Qd, 3h, Jd (608064166) Jacks or Better]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 961 to 962.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getDHand.call(10) returns 0.608064166 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 39000 gas used (35946)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(10, 12, bytes32(0x3fc1f84d4ea7189f5...), {from: <u>player2</u>}) was successful (block 963, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (5043 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 10. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [Kd, Js, Qd, 3h, Jd (608064166) Jacks or Better]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should win 0.00100 ETH from handrank 9<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(10, bytes32(0x3fc1f84d4ea7189f5...), {from: <u>player3</u>}) was successful (block 964, 28856 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 700: 0x3fc1f84d4ea7189f5a4f157fff97add1716ab3957b36bc3566b53c774fcd8559<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(10, bytes32(0x3fc1f84d4ea7189f5...), {from: <u>player2</u>}) was successful (block 965, 57922 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> lost txFee (-289610 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 2 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'CreditsAdded(time, user, id, amount)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(10) returns [2, 500000 GWei, 1, 700, 0, 31, 961, 0.608064166 GWei, 9]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are increased<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player2</u>) returns 0.0025 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.0035 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.0035 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.0035 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(10, 31, bytes32(0x3fc1f84d4ea7189f5...), {from: <u>player2</u>}) was successful (block 966, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(10, bytes32(0x3fc1f84d4ea7189f5...), {from: <u>player2</u>}) was successful (block 967, 29772 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1715 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and draw nothing, timeout initial hand<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 2 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player1</u>, value: 500000 GWei}) was successful (block 968, 53276 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> gained -500000 GWei but lost txFee (266380 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(11) returns [1, 500000 GWei, 1, 968, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [2c, 8s, Qh, 7c, Js (179667432) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 968 to 969.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(11) returns 0.179667432 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 11<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 55000 gas used (53276)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1274 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 11 with 0,0,0,0,0 after 256 blocks. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should fail due to: Cannot draw 0 cards. Use finalize instead.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 968): 0x7a5f16fa5b53bf3f8aa75074e3938ea6959f0bc6c48fe1eeead9077b78e0f6ed<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(11, 0, bytes32(0x7a5f16fa5b53bf3f8...), {from: <u>player1</u>}) was successful (block 970, 30366 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-151830 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Game should remain unmodified.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(11) returns [1, 500000 GWei, 1, 968, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 32000 gas used (30366)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (970 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 11. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [2c, 8s, Qh, 7c, Js (179667432) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should not win.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid hashCheck fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(11, bytes32(0x7859dd9db19a4962f...), {from: <u>player1</u>}) was successful (block 971, 31525 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(11, bytes32(0x7a5f16fa5b53bf3f8...), {from: <u>player2</u>}) was successful (block 972, 28856 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 968: 0x7a5f16fa5b53bf3f8aa75074e3938ea6959f0bc6c48fe1eeead9077b78e0f6ed<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(11, bytes32(0x7a5f16fa5b53bf3f8...), {from: <u>player1</u>}) was successful (block 973, 49757 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-248785 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(11) returns [1, 500000 GWei, 1, 968, 0.179667432 GWei, 0, 0, 0.179667432 GWei, 10]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are the same<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player1</u>) returns 0.001 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.0035 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.0035 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.0035 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(11, 31, bytes32(0x7a5f16fa5b53bf3f8...), {from: <u>player1</u>}) was successful (block 974, 30386 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(11, bytes32(0x7a5f16fa5b53bf3f8...), {from: <u>player1</u>}) was successful (block 975, 29772 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1773 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and draw all cards, timeout initial hand<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 3 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player2</u>, value: 500000 GWei}) was successful (block 976, 53276 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> gained -500000 GWei but lost txFee (266380 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(12) returns [2, 500000 GWei, 1, 976, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [2h, 10s, Ah, Kd, 3s (43569742) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 976 to 977.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(12) returns 0.043569742 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 12<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 55000 gas used (53276)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1272 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 12 with 1,1,1,1,1 after 256 blocks. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should succeed with warnCode 1 and draw all cards.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid hashCheck fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 977 to 978.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(12, 31, bytes32(0x57907d5eb4d857851...), {from: <u>player2</u>}) was successful (block 979, 31448 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(12, 31, bytes32(0xfd93ae08d86044c22...), {from: <u>player3</u>}) was successful (block 980, 29417 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Fast-foward 256 blocks to simulate a timeout.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 256 blocks. BlockNumber increased from 980 to 1236.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 976): 0xfd93ae08d86044c225ea78dec5c54531132cdb9c6e316eff3a24a9578598145d<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(12, 31, bytes32(0xfd93ae08d86044c22...), {from: <u>player2</u>}) was successful (block 1237, 35946 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> lost txFee (-179730 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawSuccess(time, user, id, iHand, draws, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Too many blocks passed! iHand should be 0, and draws should be 31.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(12) returns [2, 500000 GWei, 1, 976, 0, 31, 1237, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert dHand is returned as expected.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">"0xa2be4a52ebb6ca36d4a1379ba7f070c1ee73914c39249d0454c07495b7461b42", 12, 0, 31<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">After drawing, dHand should be: [3s, Kc, Qc, Jh, 8s (123677890) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 1237 to 1238.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getDHand.call(12) returns 0.12367789 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 39000 gas used (35946)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(12, 31, bytes32(0xfd93ae08d86044c22...), {from: <u>player2</u>}) was successful (block 1239, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (5077 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 12. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [3s, Kc, Qc, Jh, 8s (123677890) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should not win.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(12, bytes32(0xfd93ae08d86044c22...), {from: <u>player3</u>}) was successful (block 1240, 28856 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 976: 0xfd93ae08d86044c225ea78dec5c54531132cdb9c6e316eff3a24a9578598145d<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(12, bytes32(0xfd93ae08d86044c22...), {from: <u>player2</u>}) was successful (block 1241, 45080 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> lost txFee (-225400 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(12) returns [2, 500000 GWei, 1, 976, 0, 31, 1237, 0.12367789 GWei, 10]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are the same<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player2</u>) returns 0.0025 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.0035 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.0035 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.0035 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(12, 31, bytes32(0xfd93ae08d86044c22...), {from: <u>player2</u>}) was successful (block 1242, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(12, bytes32(0xfd93ae08d86044c22...), {from: <u>player2</u>}) was successful (block 1243, 29772 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1747 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and draw, timeout dHand<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 2 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player1</u>, value: 500000 GWei}) was successful (block 1244, 53276 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> gained -500000 GWei but lost txFee (266380 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(13) returns [1, 500000 GWei, 1, 1244, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [4h, Kc, 6d, Jd, Kh (428997840) Jacks or Better]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 1244 to 1245.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(13) returns 0.42899784 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 13<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 55000 gas used (53276)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1328 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 13 with 0,1,0,1,1. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid hashCheck fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 1245 to 1246.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(13, 26, bytes32(0x36d07b4481a802351...), {from: <u>player1</u>}) was successful (block 1247, 31448 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(13, 26, bytes32(0xda0db30a2a63b1208...), {from: <u>player2</u>}) was successful (block 1248, 29417 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 1244): 0xda0db30a2a63b12089c39bc2cc3fe48f7c5b041b43e0a1726875ee42c4a48152<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(13, 26, bytes32(0xda0db30a2a63b1208...), {from: <u>player1</u>}) was successful (block 1249, 37940 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-189700 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawSuccess(time, user, id, iHand, draws, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(13) returns [1, 500000 GWei, 1, 1244, 0.42899784 GWei, 26, 1249, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert dHand is returned as expected.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">"0x6b4cfbfbaad01ff75d37704b01612bcf7a21e9ffbad7f830fb0ee21b02a910ea", 13, 428997840, 26<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">After drawing, dHand should be: [4h, 3s, 6d, 7d, 3d (478277776) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 1249 to 1250.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getDHand.call(13) returns 0.478277776 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 39000 gas used (37940)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(13, 26, bytes32(0xda0db30a2a63b1208...), {from: <u>player1</u>}) was successful (block 1251, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (2221 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 13 after 256 blocks. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed, with warnCode: 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [4h, Kc, 6d, Jd, Kh (428997840) Jacks or Better]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should win 0.00100 ETH from handrank 9<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(13, bytes32(0xda0db30a2a63b1208...), {from: <u>player2</u>}) was successful (block 1252, 28856 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Fast-foward 256 blocks to simulate a timeout.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 256 blocks. BlockNumber increased from 1252 to 1508.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 1244: 0xda0db30a2a63b12089c39bc2cc3fe48f7c5b041b43e0a1726875ee42c4a48152<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(13, bytes32(0xda0db30a2a63b1208...), {from: <u>player1</u>}) was successful (block 1509, 55887 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-279435 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 2 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'CreditsAdded(time, user, id, amount)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(13) returns [1, 500000 GWei, 1, 1244, 0.42899784 GWei, 26, 1249, 0.42899784 GWei, 9]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are increased<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player1</u>) returns 0.002 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.0045 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.0045 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.0045 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(13, 31, bytes32(0xda0db30a2a63b1208...), {from: <u>player1</u>}) was successful (block 1510, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(13, bytes32(0xda0db30a2a63b1208...), {from: <u>player1</u>}) was successful (block 1511, 29772 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (4896 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and dont draw, timeout dHand<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 3 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player2</u>, value: 500000 GWei}) was successful (block 1512, 53276 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> gained -500000 GWei but lost txFee (266380 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(14) returns [2, 500000 GWei, 1, 1512, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [Qh, 7h, Kc, Qd, Qc (848770264) Three of a Kind]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 1512 to 1513.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(14) returns 0.848770264 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 14<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 55000 gas used (53276)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1313 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 14 with 0,0,0,0,0. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should fail due to: Cannot draw 0 cards. Use finalize instead.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 1512): 0xdb3e5b9ddbc113fbd2d69f645d13233af64e3414e7f3cbeebbfac186502d3a28<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(14, 0, bytes32(0xdb3e5b9ddbc113fbd...), {from: <u>player2</u>}) was successful (block 1514, 30366 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> lost txFee (-151830 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Game should remain unmodified.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(14) returns [2, 500000 GWei, 1, 1512, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 32000 gas used (30366)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (997 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 14 after 256 blocks. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should fail due to: Initial hand not available. Drawing 5 new cards.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Fast-foward 256 blocks to simulate a timeout.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 256 blocks. BlockNumber increased from 1514 to 1770.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 1512: 0xdb3e5b9ddbc113fbd2d69f645d13233af64e3414e7f3cbeebbfac186502d3a28<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(14, bytes32(0xdb3e5b9ddbc113fbd...), {from: <u>player2</u>}) was successful (block 1771, 39561 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> lost txFee (-197805 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 2 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawSuccess(time, user, id, iHand, draws, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(14) returns [2, 500000 GWei, 1, 1512, 0, 31, 1771, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are the same<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player2</u>) returns 0.0025 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.0045 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.0045 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.0045 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Redo'ing finalize since it caused a 5-card draw.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (4569 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> Finalizes game 14. </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [Qc, 10c, Qs, 3c, 4h (279231538) Jacks or Better]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should win 0.00100 ETH from handrank 9<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(14, bytes32(0xdb3e5b9ddbc113fbd...), {from: <u>player3</u>}) was successful (block 1772, 28856 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 1512: 0xdb3e5b9ddbc113fbd2d69f645d13233af64e3414e7f3cbeebbfac186502d3a28<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(14, bytes32(0xdb3e5b9ddbc113fbd...), {from: <u>player2</u>}) was successful (block 1773, 57922 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> lost txFee (-289610 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 2 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'CreditsAdded(time, user, id, amount)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(14) returns [2, 500000 GWei, 1, 1512, 0, 31, 1771, 0.279231538 GWei, 9]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are increased<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player2</u>) returns 0.0035 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.0055 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.0055 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.0055 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(14, 31, bytes32(0xdb3e5b9ddbc113fbd...), {from: <u>player2</u>}) was successful (block 1774, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(14, bytes32(0xdb3e5b9ddbc113fbd...), {from: <u>player2</u>}) was successful (block 1775, 29772 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1776 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and draw all cards, timeout dHand<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 2 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player1</u>, value: 500000 GWei}) was successful (block 1776, 53276 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> gained -500000 GWei but lost txFee (266380 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(15) returns [1, 500000 GWei, 1, 1776, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [Jh, Kd, 3d, Kc, 3c (701352343) Two Pair]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 1776 to 1777.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(15) returns 0.701352343 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 15<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 55000 gas used (53276)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1512 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 15 with 1,1,1,1,1. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid hashCheck fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 1777 to 1778.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(15, 31, bytes32(0xf515cafa78cb104df...), {from: <u>player1</u>}) was successful (block 1779, 31448 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(15, 31, bytes32(0xfa8974b8bd0e20db0...), {from: <u>player2</u>}) was successful (block 1780, 29417 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 1776): 0xfa8974b8bd0e20db05272a3f73e73e0b6fc9f9a55e5c5ce1059753c2c6a7cf78<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(15, 31, bytes32(0xfa8974b8bd0e20db0...), {from: <u>player1</u>}) was successful (block 1781, 37940 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-189700 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawSuccess(time, user, id, iHand, draws, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(15) returns [1, 500000 GWei, 1, 1776, 0.701352343 GWei, 31, 1781, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert dHand is returned as expected.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">"0x3cabe1c5e409161fcc158a1749a409c23763b7d0a2eb68d445040d5611e4d52e", 15, 701352343, 31<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">After drawing, dHand should be: [Qd, 6d, 4s, 6c, Ad (447756261) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 1781 to 1782.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getDHand.call(15) returns 0.447756261 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 39000 gas used (37940)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(15, 31, bytes32(0xfa8974b8bd0e20db0...), {from: <u>player1</u>}) was successful (block 1783, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (2152 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 15 after 256 blocks. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed, with warnCode: 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [Jh, Kd, 3d, Kc, 3c (701352343) Two Pair]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should win 0.00150 ETH from handrank 8<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(15, bytes32(0xfa8974b8bd0e20db0...), {from: <u>player2</u>}) was successful (block 1784, 28856 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Fast-foward 256 blocks to simulate a timeout.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 256 blocks. BlockNumber increased from 1784 to 2040.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 1776: 0xfa8974b8bd0e20db05272a3f73e73e0b6fc9f9a55e5c5ce1059753c2c6a7cf78<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(15, bytes32(0xfa8974b8bd0e20db0...), {from: <u>player1</u>}) was successful (block 2041, 55694 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-278470 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 2 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'CreditsAdded(time, user, id, amount)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(15) returns [1, 500000 GWei, 1, 1776, 0.701352343 GWei, 31, 1781, 0.701352343 GWei, 8]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are increased<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player1</u>) returns 0.0035 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.007 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.007 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.007 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(15, 31, bytes32(0xfa8974b8bd0e20db0...), {from: <u>player1</u>}) was successful (block 2042, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(15, bytes32(0xfa8974b8bd0e20db0...), {from: <u>player1</u>}) was successful (block 2043, 29772 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (5049 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and draw, timeout both hands<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 3 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player2</u>, value: 500000 GWei}) was successful (block 2044, 53276 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> gained -500000 GWei but lost txFee (266380 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(16) returns [2, 500000 GWei, 1, 2044, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [Jc, Kd, 2d, Ks, 7s (103922097) Jacks or Better]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 2044 to 2045.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(16) returns 0.103922097 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 16<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 55000 gas used (53276)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1444 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 16 with 1,0,1,0,1 after 256 blocks. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should succeed with warnCode 1 and draw all cards.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid hashCheck fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 2045 to 2046.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(16, 21, bytes32(0x9b276909fb080c5e2...), {from: <u>player2</u>}) was successful (block 2047, 31384 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(16, 21, bytes32(0x1184deabdeda9b32a...), {from: <u>player3</u>}) was successful (block 2048, 29417 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Fast-foward 256 blocks to simulate a timeout.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 256 blocks. BlockNumber increased from 2048 to 2304.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 2044): 0x1184deabdeda9b32ab3498e1769e9c1de66b1b990682198d2ba56bd769549a78<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(16, 21, bytes32(0x1184deabdeda9b32a...), {from: <u>player2</u>}) was successful (block 2305, 35946 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> lost txFee (-179730 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawSuccess(time, user, id, iHand, draws, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Too many blocks passed! iHand should be 0, and draws should be 31.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(16) returns [2, 500000 GWei, 1, 2044, 0, 31, 2305, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert dHand is returned as expected.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">"0x69dc00a7b533868202d0e20c6b67c3244f2356cb781cc4626ed48e1a2e1bb844", 16, 0, 31<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">After drawing, dHand should be: [Jd, 4s, 5s, Jh, 2c (677134564) Jacks or Better]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 2305 to 2306.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getDHand.call(16) returns 0.677134564 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 39000 gas used (35946)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(16, 21, bytes32(0x1184deabdeda9b32a...), {from: <u>player2</u>}) was successful (block 2307, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (5419 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 16 after 256 blocks. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed, with warnCode: 3<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [InvalidHand]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should not win.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(16, bytes32(0x1184deabdeda9b32a...), {from: <u>player3</u>}) was successful (block 2308, 28856 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Fast-foward 256 blocks to simulate a timeout.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 256 blocks. BlockNumber increased from 2308 to 2564.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 2044: 0x1184deabdeda9b32ab3498e1769e9c1de66b1b990682198d2ba56bd769549a78<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(16, bytes32(0x1184deabdeda9b32a...), {from: <u>player2</u>}) was successful (block 2565, 37692 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> lost txFee (-188460 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(16) returns [2, 500000 GWei, 1, 2044, 0, 31, 2305, 0, 11]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are the same<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player2</u>) returns 0.0035 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.007 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.007 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.007 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(16, 31, bytes32(0x1184deabdeda9b32a...), {from: <u>player2</u>}) was successful (block 2566, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(16, bytes32(0x1184deabdeda9b32a...), {from: <u>player2</u>}) was successful (block 2567, 29772 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (5009 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and dont draw, timeout both hands<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 2 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player1</u>, value: 500000 GWei}) was successful (block 2568, 53276 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> gained -500000 GWei but lost txFee (266380 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(17) returns [1, 500000 GWei, 1, 2568, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [6c, 5h, 3d, Kh, 4s (57001068) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 2568 to 2569.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(17) returns 0.057001068 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 17<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 55000 gas used (53276)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1400 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 17 with 0,0,0,0,0 after 256 blocks. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should fail due to: Cannot draw 0 cards. Use finalize instead.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 2568): 0xea26838c31c5418636e71550c851c65b90de8bddc221277751a2d87bac70ed55<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(17, 0, bytes32(0xea26838c31c541863...), {from: <u>player1</u>}) was successful (block 2570, 30366 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-151830 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Game should remain unmodified.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(17) returns [1, 500000 GWei, 1, 2568, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 32000 gas used (30366)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (987 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 17 after 256 blocks. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should fail due to: Initial hand not available. Drawing 5 new cards.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Fast-foward 256 blocks to simulate a timeout.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 256 blocks. BlockNumber increased from 2570 to 2826.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 2568: 0xea26838c31c5418636e71550c851c65b90de8bddc221277751a2d87bac70ed55<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(17, bytes32(0xea26838c31c541863...), {from: <u>player1</u>}) was successful (block 2827, 39561 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-197805 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 2 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawSuccess(time, user, id, iHand, draws, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(17) returns [1, 500000 GWei, 1, 2568, 0, 31, 2827, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are the same<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player1</u>) returns 0.0035 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.007 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.007 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.007 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Redo'ing finalize since it caused a 5-card draw.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (4614 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> Finalizes game 17. </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [8c, 2c, Qh, Jh, 5h (291342894) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should not win.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(17, bytes32(0xea26838c31c541863...), {from: <u>player2</u>}) was successful (block 2828, 28856 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 2568: 0xea26838c31c5418636e71550c851c65b90de8bddc221277751a2d87bac70ed55<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(17, bytes32(0xea26838c31c541863...), {from: <u>player1</u>}) was successful (block 2829, 45088 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-225440 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(17) returns [1, 500000 GWei, 1, 2568, 0, 31, 2827, 0.291342894 GWei, 10]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are the same<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player1</u>) returns 0.0035 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.007 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.007 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.007 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(17, 31, bytes32(0xea26838c31c541863...), {from: <u>player1</u>}) was successful (block 2830, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(17, bytes32(0xea26838c31c541863...), {from: <u>player1</u>}) was successful (block 2831, 29772 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1694 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and draw all, timeout both hands<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 4 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: New user -- curUserId should change to 3<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player3</u>, value: 500000 GWei}) was successful (block 2832, 93980 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player3</u> gained -500000 GWei but lost txFee (469900 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(18) returns [3, 500000 GWei, 1, 2832, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [5h, 10d, 2h, 8c, 3c (699984081) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 2832 to 2833.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(18) returns 0.699984081 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 18<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 3<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 96000 gas used (93980)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1339 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 18 with 1,1,1,1,1 after 256 blocks. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should succeed with warnCode 1 and draw all cards.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid hashCheck fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 2833 to 2834.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(18, 31, bytes32(0xac5decd4f3de6723d...), {from: <u>player3</u>}) was successful (block 2835, 31384 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(18, 31, bytes32(0x6464e1e1e74dc84db...), {from: <u>player1</u>}) was successful (block 2836, 29417 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Fast-foward 256 blocks to simulate a timeout.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 256 blocks. BlockNumber increased from 2836 to 3092.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 2832): 0x6464e1e1e74dc84dbbe2e32dadc173124229b93275fb8ac335b79e7adcf12441<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(18, 31, bytes32(0x6464e1e1e74dc84db...), {from: <u>player3</u>}) was successful (block 3093, 35946 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player3</u> lost txFee (-179730 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawSuccess(time, user, id, iHand, draws, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Too many blocks passed! iHand should be 0, and draws should be 31.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(18) returns [3, 500000 GWei, 1, 2832, 0, 31, 3093, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert dHand is returned as expected.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">"0xa4e6f0b648ddeb2ca21e229027c3a0bbae5ed6966c15d57113b0a07ee45a4c7f", 18, 0, 31<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">After drawing, dHand should be: [8d, Ac, Kc, Jd, Kd (647182817) Jacks or Better]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 3093 to 3094.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getDHand.call(18) returns 0.647182817 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 39000 gas used (35946)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(18, 31, bytes32(0x6464e1e1e74dc84db...), {from: <u>player3</u>}) was successful (block 3095, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (5278 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 18 after 256 blocks. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed, with warnCode: 3<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [InvalidHand]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should not win.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(18, bytes32(0x6464e1e1e74dc84db...), {from: <u>player1</u>}) was successful (block 3096, 28856 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Fast-foward 256 blocks to simulate a timeout.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 256 blocks. BlockNumber increased from 3096 to 3352.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 2832: 0x6464e1e1e74dc84dbbe2e32dadc173124229b93275fb8ac335b79e7adcf12441<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(18, bytes32(0x6464e1e1e74dc84db...), {from: <u>player3</u>}) was successful (block 3353, 37692 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player3</u> lost txFee (-188460 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(18) returns [3, 500000 GWei, 1, 2832, 0, 31, 3093, 0, 11]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are the same<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player3</u>) returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.007 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.007 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.007 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(18, 31, bytes32(0x6464e1e1e74dc84db...), {from: <u>player3</u>}) was successful (block 3354, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(18, bytes32(0x6464e1e1e74dc84db...), {from: <u>player3</u>}) was successful (block 3355, 29772 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (4750 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and draw, timeout both hands<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 4 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player3</u>, value: 500000 GWei}) was successful (block 3356, 53276 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player3</u> gained -500000 GWei but lost txFee (266380 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(19) returns [3, 500000 GWei, 1, 3356, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [7h, 6d, 6h, Kc, 10h (382543827) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 3356 to 3357.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(19) returns 0.382543827 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 19<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 3<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 55000 gas used (53276)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1340 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 19 with 0,1,1,1,1 after 256 blocks. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should succeed with warnCode 1 and draw all cards.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid hashCheck fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 3357 to 3358.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(19, 30, bytes32(0x62487d1b35686adf0...), {from: <u>player3</u>}) was successful (block 3359, 31384 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(19, 30, bytes32(0x8a11947cab4f1cfbf...), {from: <u>player1</u>}) was successful (block 3360, 29417 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Fast-foward 256 blocks to simulate a timeout.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 256 blocks. BlockNumber increased from 3360 to 3616.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 3356): 0x8a11947cab4f1cfbf27b4291af34b1d0f8b4267c116dde8b2bf678f64325a3e6<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(19, 30, bytes32(0x8a11947cab4f1cfbf...), {from: <u>player3</u>}) was successful (block 3617, 35946 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player3</u> lost txFee (-179730 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawSuccess(time, user, id, iHand, draws, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Too many blocks passed! iHand should be 0, and draws should be 31.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(19) returns [3, 500000 GWei, 1, 3356, 0, 31, 3617, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert dHand is returned as expected.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">"0x95a6850841e0a58c5e8550c70b330426c0c4a14139744745dcd0a6cf770ec40d", 19, 0, 31<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">After drawing, dHand should be: [7h, Ad, Jc, 6d, 10c (813635219) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 3617 to 3618.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getDHand.call(19) returns 0.813635219 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 39000 gas used (35946)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(19, 30, bytes32(0x8a11947cab4f1cfbf...), {from: <u>player3</u>}) was successful (block 3619, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (5218 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 19 after 256 blocks. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed, with warnCode: 3<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [InvalidHand]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should not win.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(19, bytes32(0x8a11947cab4f1cfbf...), {from: <u>player1</u>}) was successful (block 3620, 28856 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Fast-foward 256 blocks to simulate a timeout.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 256 blocks. BlockNumber increased from 3620 to 3876.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 3356: 0x8a11947cab4f1cfbf27b4291af34b1d0f8b4267c116dde8b2bf678f64325a3e6<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(19, bytes32(0x8a11947cab4f1cfbf...), {from: <u>player3</u>}) was successful (block 3877, 37692 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player3</u> lost txFee (-188460 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(19) returns [3, 500000 GWei, 1, 3356, 0, 31, 3617, 0, 11]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are the same<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player3</u>) returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.007 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.007 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.007 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(19, 31, bytes32(0x8a11947cab4f1cfbf...), {from: <u>player3</u>}) was successful (block 3878, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(19, bytes32(0x8a11947cab4f1cfbf...), {from: <u>player3</u>}) was successful (block 3879, 29772 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (4675 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  ├ <span style="color:#000"> <b><span style="color:#000">Ensure all conditions are met<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Conditions for bet<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> bet with minBet </span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (0 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> bet with maxBet </span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (0 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> bet with curMaxBet </span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (0 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Conditions for draw<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> draw with invalidDraws </span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (0 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> draw with noTimeout </span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (0 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> draw with iHandTimeout </span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (0 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Conditions for finalize<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> finalize with noTimeout </span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (0 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> finalize with iHandTimeout </span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (0 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> finalize with dHandTimeout </span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (0 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> finalize with bothHandTimeout </span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (0 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <b><span style="color:#000">finalize with noDraws<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> noTimeout </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (0 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> iHandTimeout </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (0 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> bothHandTimeout </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (0 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> finalize with win </span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (0 ms)<span style="color:#000"> </span></span></span></span> 

  =========== <span style="color:#0A0"><b> SMOCHA FINISHED SUCCESSFULLY </b><span style="color:#000"> ===========

  <span style="color:#0A0"><b>87</b><span style="color:#000"><span style="color:#0A0"> passed.<span style="color:#000"> <span style="color:#A00"><b>0</b><span style="color:#000"><span style="color:#A00"> errors.<span style="color:#000"> <span style="color:#555"><b>0</b><span style="color:#000"><span style="color:#555"> skipped.<span style="color:#000"> 141.41s

</span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>
	</body>
</html>
