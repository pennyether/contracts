
<html>
	<head>
		<title>Test results for: tests/games/VideoPoker.test.js</title>
		<style>
			body {
				background: #FFF;
				padding: 10px;
			}
			pre {
				font-family: Consolas, 'Courier New';
				font-size: 75%;
			}
		</style>
	</head>
	<body>
		<h1>Test results for: tests/games/VideoPoker.test.js</h1>
		<pre>
  ========================================= 
  =========== <span style="color:#000"><b> SMOCHA STARTING </b><span style="color:#000"> ===========
  ========================================= 

<span style="color:#AAA">├ <span style="color:#000"> <b>File: tests/games/VideoPoker.test.js</b> </span></span></span></span> 
<span style="color:#AAA">│  ├ <span style="color:#000"> <b><span style="color:#000">VideoPoker<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  ├ <span style="color:#000"> before: Set up VideoPoker contract. </span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> </span></span><i><span style="color:#555">Create a Registry, with ADMIN and TREASURY set.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ newTx: Registry.new(<u>regOwner</u>, {from: <u>anon</u>}) was successful (block 90, 669491 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>registry</u>.register("ADMIN", <u>admin</u>, {from: <u>regOwner</u>}) was successful (block 91, 91573 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>registry</u>.register("TREASURY", <u>dummyTreasury</u>, {from: <u>regOwner</u>}) was successful (block 92, 91765 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> </span></span><i><span style="color:#555">Create the VideoPoker instance.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ newTx: VideoPoker.new(<u>registry</u>, {from: <u>anon</u>, gas: 0.006 GWei}) was successful (block 93, 5511796 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Named Addresses:<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  admin:         0xf6190b65560fca1bd5f84d815ab75db13e035cd3<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  anon:          0x28428219b2a75191775d55abfa0c9b49b6d068e0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  dummyTreasury: 0x6d6e7efa4f8ce4932ba3a95641a88e05b2bf2c57<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  player1:       0x771e73c55e8aba9cbfecbfd808f3734263cc64de<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  player2:       0x64a7383400204cfa493dca5cd9bb07507b22d56a<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  player3:       0x5048b489a37d552285368f52cc661b189a1f25b0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  registry:      0x74afaa6e512e236b83e2ebcb35ede33f37fc2d09<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  regOwner:      0xfff75b94810214ac20076e1e2c8bedf5af05f92c<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  videoPoker:    0xddf37c5f8b1b8e3659d28af14ce9b961267027e6<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (599 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  ├ <span style="color:#000"> <b><span style="color:#000">Check settings<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Current paytable is the default </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curPayTableId.call() returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.numPayTables.call() returns 1<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getPayTable.call(0) returns [0, 800, 50, 25, 9, 6, 4, 3, 2, 1, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (141 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> minBet and maxBet are as expected </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.minBet.call() returns 0.001 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.maxBet.call() returns 0.5 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curMaxBet.call() returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (61 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> curMaxBet is 0, since there's no balance </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curMaxBet.call() returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (23 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  ├ <span style="color:#000"> <b><span style="color:#000">Adding funding.<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Anyone can add funding </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Entry should be added to front of mappings.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.addBankroll({from: <u>anon</u>, value: 5 ETH}) was successful (block 94, 138763 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 5 ETH.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>anon</u> gained -5 ETH but lost txFee (693815 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BankrollAdded(time, bankroller, amount, bankroll)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.bankroll.call() returns 5 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.bankrollAvailable.call() returns 5 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.bankrolledBy.call(<u>anon</u>) returns 5 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ Ledger[0xd293...].balances.call() returns [[<u>anon</u>], [5 ETH]]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.profits.call() returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (939 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> .curMaxBet() is correct value. </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curMaxBet.call() returns 0.003125 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (99 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  ├ <span style="color:#000"> <b><span style="color:#000">Admin Functions<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">.addPayTable()<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> is not callable from anon </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.addPayTable(801, 51, 26, 10, 7, 5, 4, 3, 2, {from: <u>anon</u>}) failed<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (36 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> works from admin </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.addPayTable(801, 51, 26, 10, 7, 5, 4, 3, 2, {from: <u>admin</u>}) was successful (block 96, 142922 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'PayTableAdded(time, admin, payTableId)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getPayTable.call(1) returns [0, 801, 51, 26, 10, 7, 5, 4, 3, 2, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.numPayTables.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (182 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> doesn't work again (same day) </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.addPayTable(801, 51, 26, 10, 7, 5, 4, 3, 2, {from: <u>admin</u>}) failed<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (33 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> works the next day </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 97 to 98.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Fast forwarded 86401 seconds<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.addPayTable(801, 51, 26, 10, 7, 5, 4, 3, 2, {from: <u>admin</u>}) was successful (block 99, 142922 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'PayTableAdded(time, admin, payTableId)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getPayTable.call(2) returns [0, 801, 51, 26, 10, 7, 5, 4, 3, 2, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.numPayTables.call() returns 3<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (613 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">.changeSettings()<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> is not callable from anon </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.changeSettings(500000 GWei, 0.2 ETH, 1, {from: <u>anon</u>}) failed<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (32 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> works from admin </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.changeSettings(500000 GWei, 0.2 ETH, 1, {from: <u>admin</u>}) was successful (block 101, 33681 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'SettingsChanged(time, admin)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.minBet.call() returns 500000 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.maxBet.call() returns 0.2 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (161 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  ├ <span style="color:#000"> <b><span style="color:#000">Do a bunch of games.<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet too small<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <b></b></span></span><i><span style="color:#555">Will not test drawing or finalizing -- the bet should fail.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 2 tries to bet 0.00049 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should fail due to: Bet too small.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player1</u>, value: 499999.999999999 GWei}) was successful (block 102, 32568 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should be refunded.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> gained 0 Wei but lost txFee (162840 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetFailure(user, bet, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are unchanged.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 39000 gas used (32568)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (794 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet too large<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <b></b></span></span><i><span style="color:#555">Note: VideoPoker cannot afford to pay out two max-bet Royal Flushes.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <b></b></span></span><i><span style="color:#555">Will not test drawing or finalizing -- the bet should fail.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 3 tries to bet 0.20000 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should fail due to: Bet too large.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player2</u>, value: 0.200000000000000001 ETH}) was successful (block 103, 32336 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should be refunded.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> gained 0 Wei but lost txFee (161680 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetFailure(user, bet, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are unchanged.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 39000 gas used (32336)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (796 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet above curMaxBet<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <b></b></span></span><i><span style="color:#555">Note: VideoPoker cannot afford to pay out two max-bet Royal Flushes.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <b></b></span></span><i><span style="color:#555">Will not test drawing or finalizing -- the bet should fail.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 2 tries to bet 0.00312 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should fail due to: The bankroll is too low.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player1</u>, value: 0.003121098626716605 ETH}) was successful (block 104, 34292 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should be refunded.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> gained 0 Wei but lost txFee (171460 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetFailure(user, bet, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are unchanged.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 39000 gas used (34292)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (819 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and draw invalid cards<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 2 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: New user -- curUserId should change to 1<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player1</u>, value: 500000 GWei}) was successful (block 105, 93980 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> gained -500000 GWei but lost txFee (469900 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(1) returns [1, 500000 GWei, 1, 105, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [10s, 8d, Qh, 5c, Qd (632129609) Jacks or Better]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 105 to 106.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(1) returns 0.632129609 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 1<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 1<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 96000 gas used (93980)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1380 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 1 with 0,0,0,0,0,1. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should fail due to: Invalid draws.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 105): 0xced0bd8fa00f8852d6b67aea053a192756a78eb275001715966e0baa31948725<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(1, 32, bytes32(0xced0bd8fa00f8852d...), {from: <u>player1</u>}) was successful (block 107, 29993 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-149965 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Game should remain unmodified.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(1) returns [1, 500000 GWei, 1, 105, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 32000 gas used (29993)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (946 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 1. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [10s, 8d, Qh, 5c, Qd (632129609) Jacks or Better]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should win 0.00100 ETH from handrank 9<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid hashCheck fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(1, bytes32(0xcae5314e6b221fb39...), {from: <u>player1</u>}) was successful (block 108, 31519 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(1, bytes32(0xced0bd8fa00f8852d...), {from: <u>player2</u>}) was successful (block 109, 28792 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 105: 0xced0bd8fa00f8852d6b67aea053a192756a78eb275001715966e0baa31948725<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(1, bytes32(0xced0bd8fa00f8852d...), {from: <u>player1</u>}) was successful (block 110, 77555 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-387775 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 2 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'CreditsAdded(time, user, id, amount)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(1) returns [1, 500000 GWei, 1, 105, 0.632129609 GWei, 0, 0, 0.632129609 GWei, 9]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are increased<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player1</u>) returns 0.001 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.001 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.001 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.001 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(1, 31, bytes32(0xced0bd8fa00f8852d...), {from: <u>player1</u>}) was successful (block 111, 30322 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(1, bytes32(0xced0bd8fa00f8852d...), {from: <u>player1</u>}) was successful (block 112, 29708 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1812 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and draw first card<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 3 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: New user -- curUserId should change to 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player2</u>, value: 500000 GWei}) was successful (block 113, 93980 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> gained -500000 GWei but lost txFee (469900 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(2) returns [2, 500000 GWei, 1, 113, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [Jc, 9s, Qc, 7h, Kh (424616497) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 113 to 114.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(2) returns 0.424616497 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 96000 gas used (93980)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1366 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 2 with 0,0,0,0,1. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid hashCheck fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 114 to 115.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(2, 16, bytes32(0x6209f7dc65cbbb1ae...), {from: <u>player2</u>}) was successful (block 116, 31448 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(2, 16, bytes32(0xd412af8cfa692373d...), {from: <u>player3</u>}) was successful (block 117, 29417 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 113): 0xd412af8cfa692373d07714134c18bc5f291263f9c1ad53febbdf86d22907f092<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(2, 16, bytes32(0xd412af8cfa692373d...), {from: <u>player2</u>}) was successful (block 118, 38149 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> lost txFee (-190745 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawSuccess(time, user, id, iHand, draws, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(2) returns [2, 500000 GWei, 1, 113, 0.424616497 GWei, 16, 118, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert dHand is returned as expected.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">"0x7b90283cfa4d11a177ef208fa5dff953ecb4e2c7414a0114982e85875e2f4555", 2, 424616497, 16<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">After drawing, dHand should be: [Jc, 9s, Qc, 7h, Qs (189735473) Jacks or Better]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 118 to 119.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getDHand.call(2) returns 0.189735473 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 39000 gas used (38149)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(2, 16, bytes32(0xd412af8cfa692373d...), {from: <u>player2</u>}) was successful (block 120, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1982 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 2. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [Jc, 9s, Qc, 7h, Qs (189735473) Jacks or Better]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should win 0.00100 ETH from handrank 9<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(2, bytes32(0xd412af8cfa692373d...), {from: <u>player3</u>}) was successful (block 121, 28856 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 113: 0xd412af8cfa692373d07714134c18bc5f291263f9c1ad53febbdf86d22907f092<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(2, bytes32(0xd412af8cfa692373d...), {from: <u>player2</u>}) was successful (block 122, 75333 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> lost txFee (-376665 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 2 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'CreditsAdded(time, user, id, amount)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(2) returns [2, 500000 GWei, 1, 113, 0.424616497 GWei, 16, 118, 0.189735473 GWei, 9]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are increased<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player2</u>) returns 0.001 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.002 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.002 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.002 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(2, 31, bytes32(0xd412af8cfa692373d...), {from: <u>player2</u>}) was successful (block 123, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(2, bytes32(0xd412af8cfa692373d...), {from: <u>player2</u>}) was successful (block 124, 29772 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1677 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and draw second card<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 2 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player1</u>, value: 500000 GWei}) was successful (block 125, 53292 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> gained -500000 GWei but lost txFee (266460 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(3) returns [1, 500000 GWei, 1, 125, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [3h, 6h, Ac, 8d, 8h (344355983) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 125 to 126.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(3) returns 0.344355983 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 3<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 55000 gas used (53292)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1282 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 3 with 0,0,0,1,0. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid hashCheck fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 126 to 127.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(3, 8, bytes32(0xf53bb2731b89d3a44...), {from: <u>player1</u>}) was successful (block 128, 31448 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(3, 8, bytes32(0x3d71be4fd45987d8c...), {from: <u>player2</u>}) was successful (block 129, 29417 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 125): 0x3d71be4fd45987d8c9827a6b664a208dba84e92889780baebd4dddf84dc901b7<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(3, 8, bytes32(0x3d71be4fd45987d8c...), {from: <u>player1</u>}) was successful (block 130, 38149 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-190745 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawSuccess(time, user, id, iHand, draws, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(3) returns [1, 500000 GWei, 1, 125, 0.344355983 GWei, 8, 130, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert dHand is returned as expected.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">"0x814fa16a2bcf4992b16171ca0c3f9d2e1baee9550c5eeaf9528d9c6493bb4e29", 3, 344355983, 8<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">After drawing, dHand should be: [3h, 6h, Ac, As, 8h (335705231) Jacks or Better]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 130 to 131.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getDHand.call(3) returns 0.335705231 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 39000 gas used (38149)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(3, 8, bytes32(0x3d71be4fd45987d8c...), {from: <u>player1</u>}) was successful (block 132, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (2051 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 3. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [3h, 6h, Ac, As, 8h (335705231) Jacks or Better]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should win 0.00100 ETH from handrank 9<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(3, bytes32(0x3d71be4fd45987d8c...), {from: <u>player2</u>}) was successful (block 133, 28856 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 125: 0x3d71be4fd45987d8c9827a6b664a208dba84e92889780baebd4dddf84dc901b7<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(3, bytes32(0x3d71be4fd45987d8c...), {from: <u>player1</u>}) was successful (block 134, 60008 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-300040 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 2 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'CreditsAdded(time, user, id, amount)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(3) returns [1, 500000 GWei, 1, 125, 0.344355983 GWei, 8, 130, 0.335705231 GWei, 9]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are increased<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player1</u>) returns 0.002 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.003 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.003 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.003 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(3, 31, bytes32(0x3d71be4fd45987d8c...), {from: <u>player1</u>}) was successful (block 135, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(3, bytes32(0x3d71be4fd45987d8c...), {from: <u>player1</u>}) was successful (block 136, 29772 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1644 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and draw third card<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 3 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player2</u>, value: 500000 GWei}) was successful (block 137, 53292 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> gained -500000 GWei but lost txFee (266460 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(4) returns [2, 500000 GWei, 1, 137, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [4h, 9c, 5s, 4d, Ad (443829200) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 137 to 138.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(4) returns 0.4438292 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 4<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 55000 gas used (53292)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1261 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 4 with 0,0,1,0,0. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid hashCheck fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 138 to 139.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(4, 4, bytes32(0xa01dd6d88fc6800c2...), {from: <u>player2</u>}) was successful (block 140, 31448 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(4, 4, bytes32(0x631311e1b1324895a...), {from: <u>player3</u>}) was successful (block 141, 29353 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 137): 0x631311e1b1324895a2e500f3e0b48215e4dd842d41ebc496803a0c1f416899df<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(4, 4, bytes32(0x631311e1b1324895a...), {from: <u>player2</u>}) was successful (block 142, 37876 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> lost txFee (-189380 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawSuccess(time, user, id, iHand, draws, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(4) returns [2, 500000 GWei, 1, 137, 0.4438292 GWei, 4, 142, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert dHand is returned as expected.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">"0x22f9f30830665d7065a51d28202b11031df852ad246d36df05a630c69c61f728", 4, 443829200, 4<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">After drawing, dHand should be: [4h, 9c, 10c, 4d, Ad (444009424) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 142 to 143.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getDHand.call(4) returns 0.444009424 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 39000 gas used (37876)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(4, 4, bytes32(0x631311e1b1324895a...), {from: <u>player2</u>}) was successful (block 144, 29961 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1996 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 4. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [4h, 9c, 10c, 4d, Ad (444009424) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should not win.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(4, bytes32(0x631311e1b1324895a...), {from: <u>player3</u>}) was successful (block 145, 28792 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 137: 0x631311e1b1324895a2e500f3e0b48215e4dd842d41ebc496803a0c1f416899df<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(4, bytes32(0x631311e1b1324895a...), {from: <u>player2</u>}) was successful (block 146, 47516 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> lost txFee (-237580 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(4) returns [2, 500000 GWei, 1, 137, 0.4438292 GWei, 4, 142, 0.444009424 GWei, 10]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are the same<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player2</u>) returns 0.001 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.003 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.003 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.003 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(4, 31, bytes32(0x631311e1b1324895a...), {from: <u>player2</u>}) was successful (block 147, 29961 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(4, bytes32(0x631311e1b1324895a...), {from: <u>player2</u>}) was successful (block 148, 29708 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1614 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and draw fourth<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 2 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player1</u>, value: 500000 GWei}) was successful (block 149, 53292 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> gained -500000 GWei but lost txFee (266460 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(5) returns [1, 500000 GWei, 1, 149, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [9h, Kd, 5h, 10c, Kc (868293013) Jacks or Better]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 149 to 150.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(5) returns 0.868293013 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 5<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 55000 gas used (53292)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1278 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 5 with 0,1,0,0,0. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid hashCheck fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 150 to 151.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(5, 2, bytes32(0xe6dcca81b0744f4b3...), {from: <u>player1</u>}) was successful (block 152, 31448 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(5, 2, bytes32(0xb5172489996fe8f40...), {from: <u>player2</u>}) was successful (block 153, 29417 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 149): 0xb5172489996fe8f406c1e8dfd4d0cd703d109104fc13992e449e7492dff26ca8<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(5, 2, bytes32(0xb5172489996fe8f40...), {from: <u>player1</u>}) was successful (block 154, 38149 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-190745 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawSuccess(time, user, id, iHand, draws, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(5) returns [1, 500000 GWei, 1, 149, 0.868293013 GWei, 2, 154, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert dHand is returned as expected.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">"0x240dff40ebeb56ac20b2049c2946e90095af15952e78d2a82aa43c7b538ae5b3", 5, 868293013, 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">After drawing, dHand should be: [9h, 5s, 5h, 10c, Kc (868290837) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 154 to 155.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getDHand.call(5) returns 0.868290837 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 39000 gas used (38149)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(5, 2, bytes32(0xb5172489996fe8f40...), {from: <u>player1</u>}) was successful (block 156, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (2064 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 5. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [9h, 5s, 5h, 10c, Kc (868290837) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should not win.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(5, bytes32(0xb5172489996fe8f40...), {from: <u>player2</u>}) was successful (block 157, 28856 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 149: 0xb5172489996fe8f406c1e8dfd4d0cd703d109104fc13992e449e7492dff26ca8<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(5, bytes32(0xb5172489996fe8f40...), {from: <u>player1</u>}) was successful (block 158, 47412 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-237060 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(5) returns [1, 500000 GWei, 1, 149, 0.868293013 GWei, 2, 154, 0.868290837 GWei, 10]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are the same<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player1</u>) returns 0.002 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.003 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.003 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.003 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(5, 31, bytes32(0xb5172489996fe8f40...), {from: <u>player1</u>}) was successful (block 159, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(5, bytes32(0xb5172489996fe8f40...), {from: <u>player1</u>}) was successful (block 160, 29772 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1553 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and draw fifth<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 3 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player2</u>, value: 500000 GWei}) was successful (block 161, 53276 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> gained -500000 GWei but lost txFee (266380 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(6) returns [2, 500000 GWei, 1, 161, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [10h, Jd, 9s, Qs, 6d (523012374) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 161 to 162.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(6) returns 0.523012374 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 6<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 55000 gas used (53276)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1297 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 6 with 1,0,0,0,0. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid hashCheck fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 162 to 163.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(6, 1, bytes32(0xabec73d88bd9e7005...), {from: <u>player2</u>}) was successful (block 164, 31320 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(6, 1, bytes32(0x3ace11a645ad10099...), {from: <u>player3</u>}) was successful (block 165, 29417 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 161): 0x3ace11a645ad1009956e0c7a237335889b74ad813b250f4934450ba57a638314<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(6, 1, bytes32(0x3ace11a645ad10099...), {from: <u>player2</u>}) was successful (block 166, 38149 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> lost txFee (-190745 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawSuccess(time, user, id, iHand, draws, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(6) returns [2, 500000 GWei, 1, 161, 0.523012374 GWei, 1, 166, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert dHand is returned as expected.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">"0xe4af1659f386cc2ae1bb1b2a1655b776e3ed909e975c640e2fa25aec8c328d68", 6, 523012374, 1<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">After drawing, dHand should be: [Ks, Jd, 9s, Qs, 6d (523012364) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 166 to 167.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getDHand.call(6) returns 0.523012364 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 39000 gas used (38149)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(6, 1, bytes32(0x3ace11a645ad10099...), {from: <u>player2</u>}) was successful (block 168, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (2074 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 6. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [Ks, Jd, 9s, Qs, 6d (523012364) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should not win.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(6, bytes32(0x3ace11a645ad10099...), {from: <u>player3</u>}) was successful (block 169, 28856 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 161: 0x3ace11a645ad1009956e0c7a237335889b74ad813b250f4934450ba57a638314<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(6, bytes32(0x3ace11a645ad10099...), {from: <u>player2</u>}) was successful (block 170, 47449 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> lost txFee (-237245 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(6) returns [2, 500000 GWei, 1, 161, 0.523012374 GWei, 1, 166, 0.523012364 GWei, 10]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are the same<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player2</u>) returns 0.001 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.003 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.003 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.003 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(6, 31, bytes32(0x3ace11a645ad10099...), {from: <u>player2</u>}) was successful (block 171, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(6, bytes32(0x3ace11a645ad10099...), {from: <u>player2</u>}) was successful (block 172, 29772 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1581 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and draw all cards<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 2 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player1</u>, value: 500000 GWei}) was successful (block 173, 53276 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> gained -500000 GWei but lost txFee (266380 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(7) returns [1, 500000 GWei, 1, 173, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [7d, 6s, 6d, 8h, Js (173142368) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 173 to 174.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(7) returns 0.173142368 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 7<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 55000 gas used (53276)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1355 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 7 with 1,1,1,1,1. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid hashCheck fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 174 to 175.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(7, 31, bytes32(0xc48ac171ec43e57cb...), {from: <u>player1</u>}) was successful (block 176, 31448 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(7, 31, bytes32(0xc00d24903e17f2b9d...), {from: <u>player2</u>}) was successful (block 177, 29417 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 173): 0xc00d24903e17f2b9d5a6861a038e035bdf2ba02f48569fd69c748aad0b39491a<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(7, 31, bytes32(0xc00d24903e17f2b9d...), {from: <u>player1</u>}) was successful (block 178, 37940 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-189700 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawSuccess(time, user, id, iHand, draws, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(7) returns [1, 500000 GWei, 1, 173, 0.173142368 GWei, 31, 178, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert dHand is returned as expected.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">"0x63cf0710f375ca8b23c134b363eb39d4b7a47ce9c1b7ed956d752da2ec570a86", 7, 173142368, 31<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">After drawing, dHand should be: [Ad, 8c, Kd, Ah, 9c (792095642) Jacks or Better]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 178 to 179.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getDHand.call(7) returns 0.792095642 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 39000 gas used (37940)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(7, 31, bytes32(0xc00d24903e17f2b9d...), {from: <u>player1</u>}) was successful (block 180, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1974 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 7. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [Ad, 8c, Kd, Ah, 9c (792095642) Jacks or Better]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should win 0.00100 ETH from handrank 9<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(7, bytes32(0xc00d24903e17f2b9d...), {from: <u>player2</u>}) was successful (block 181, 28856 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 173: 0xc00d24903e17f2b9d5a6861a038e035bdf2ba02f48569fd69c748aad0b39491a<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(7, bytes32(0xc00d24903e17f2b9d...), {from: <u>player1</u>}) was successful (block 182, 59153 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-295765 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 2 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'CreditsAdded(time, user, id, amount)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(7) returns [1, 500000 GWei, 1, 173, 0.173142368 GWei, 31, 178, 0.792095642 GWei, 9]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are increased<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player1</u>) returns 0.003 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.004 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.004 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.004 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(7, 31, bytes32(0xc00d24903e17f2b9d...), {from: <u>player1</u>}) was successful (block 183, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(7, bytes32(0xc00d24903e17f2b9d...), {from: <u>player1</u>}) was successful (block 184, 29772 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1587 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and draw nothing<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 3 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player2</u>, value: 500000 GWei}) was successful (block 185, 53276 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> gained -500000 GWei but lost txFee (266380 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(8) returns [2, 500000 GWei, 1, 185, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [Js, 6c, 9d, Jh, Qc (845032202) Jacks or Better]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 185 to 186.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(8) returns 0.845032202 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 8<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 55000 gas used (53276)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1277 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 8 with 0,0,0,0,0. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should fail due to: Cannot draw 0 cards. Use finalize instead.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 185): 0x7cca9f664f712676ff1b5cbe9f0d0ff5798e02dba4a5fe45d0302bd3740cd839<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(8, 0, bytes32(0x7cca9f664f712676f...), {from: <u>player2</u>}) was successful (block 187, 30366 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> lost txFee (-151830 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Game should remain unmodified.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(8) returns [2, 500000 GWei, 1, 185, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 32000 gas used (30366)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (932 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 8. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [Js, 6c, 9d, Jh, Qc (845032202) Jacks or Better]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should win 0.00100 ETH from handrank 9<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid hashCheck fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(8, bytes32(0x6b65849863daf587f...), {from: <u>player2</u>}) was successful (block 188, 31519 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(8, bytes32(0x7cca9f664f712676f...), {from: <u>player3</u>}) was successful (block 189, 28856 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 185: 0x7cca9f664f712676ff1b5cbe9f0d0ff5798e02dba4a5fe45d0302bd3740cd839<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(8, bytes32(0x7cca9f664f712676f...), {from: <u>player2</u>}) was successful (block 190, 62611 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> lost txFee (-313055 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 2 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'CreditsAdded(time, user, id, amount)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(8) returns [2, 500000 GWei, 1, 185, 0.845032202 GWei, 0, 0, 0.845032202 GWei, 9]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are increased<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player2</u>) returns 0.002 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.005 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.005 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.005 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(8, 31, bytes32(0x7cca9f664f712676f...), {from: <u>player2</u>}) was successful (block 191, 30386 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(8, bytes32(0x7cca9f664f712676f...), {from: <u>player2</u>}) was successful (block 192, 29772 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1697 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and draw two cards<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 2 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player1</u>, value: 500000 GWei}) was successful (block 193, 53292 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> gained -500000 GWei but lost txFee (266460 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(9) returns [1, 500000 GWei, 1, 193, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [9d, Jc, 10h, 3d, 5c (728853602) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 193 to 194.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(9) returns 0.728853602 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 9<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 55000 gas used (53292)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1302 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 9 with 0,1,0,1,0. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid hashCheck fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 194 to 195.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(9, 10, bytes32(0x61b39541c59973440...), {from: <u>player1</u>}) was successful (block 196, 31448 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(9, 10, bytes32(0x55e701c4f741bde11...), {from: <u>player2</u>}) was successful (block 197, 29417 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 193): 0x55e701c4f741bde1193a014e97925b9a02236530a1616688356c9bb1e8b3f2c4<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(9, 10, bytes32(0x55e701c4f741bde11...), {from: <u>player1</u>}) was successful (block 198, 37940 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-189700 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawSuccess(time, user, id, iHand, draws, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(9) returns [1, 500000 GWei, 1, 193, 0.728853602 GWei, 10, 198, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert dHand is returned as expected.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">"0x3b0786c8c86598530aa8993af392498b1d4d17f44b874297e45bf618faca0eb9", 9, 728853602, 10<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">After drawing, dHand should be: [9d, Qh, 10h, 10c, 5c (734094882) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 198 to 199.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getDHand.call(9) returns 0.734094882 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 39000 gas used (37940)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(9, 10, bytes32(0x55e701c4f741bde11...), {from: <u>player1</u>}) was successful (block 200, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (2027 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 9. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [9d, Qh, 10h, 10c, 5c (734094882) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should not win.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(9, bytes32(0x55e701c4f741bde11...), {from: <u>player2</u>}) was successful (block 201, 28856 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 193: 0x55e701c4f741bde1193a014e97925b9a02236530a1616688356c9bb1e8b3f2c4<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(9, bytes32(0x55e701c4f741bde11...), {from: <u>player1</u>}) was successful (block 202, 47278 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-236390 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(9) returns [1, 500000 GWei, 1, 193, 0.728853602 GWei, 10, 198, 0.734094882 GWei, 10]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are the same<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player1</u>) returns 0.003 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.005 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.005 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.005 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(9, 31, bytes32(0x55e701c4f741bde11...), {from: <u>player1</u>}) was successful (block 203, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(9, bytes32(0x55e701c4f741bde11...), {from: <u>player1</u>}) was successful (block 204, 29772 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1649 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and draw, timeout initial hand<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 3 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player2</u>, value: 500000 GWei}) was successful (block 205, 53276 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> gained -500000 GWei but lost txFee (266380 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(10) returns [2, 500000 GWei, 1, 205, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [7h, Kd, 3h, Jh, Qh (408746387) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 205 to 206.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(10) returns 0.408746387 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 10<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 55000 gas used (53276)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1339 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 10 with 0,0,1,1,0 after 256 blocks. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should succeed with warnCode 1 and draw all cards.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid hashCheck fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 206 to 207.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(10, 12, bytes32(0xc9f4b518a24a1372a...), {from: <u>player2</u>}) was successful (block 208, 31448 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(10, 12, bytes32(0x4777922f0f50d454a...), {from: <u>player3</u>}) was successful (block 209, 29417 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Fast-foward 256 blocks to simulate a timeout.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 256 blocks. BlockNumber increased from 209 to 465.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 205): 0x4777922f0f50d454a1ab238eeb6b31578244305b2d37be784efde9307a38cf2a<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(10, 12, bytes32(0x4777922f0f50d454a...), {from: <u>player2</u>}) was successful (block 466, 35946 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> lost txFee (-179730 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawSuccess(time, user, id, iHand, draws, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Too many blocks passed! iHand should be 0, and draws should be 31.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(10) returns [2, 500000 GWei, 1, 205, 0, 31, 466, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert dHand is returned as expected.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">"0x3f84d1450f44002e654845300e5277e399868825bbca3ecdeaf2e53f90322d8a", 10, 0, 31<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">After drawing, dHand should be: [7c, 7h, 6c, Qh, 8d (560121069) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 466 to 467.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getDHand.call(10) returns 0.560121069 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 39000 gas used (35946)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(10, 12, bytes32(0x4777922f0f50d454a...), {from: <u>player2</u>}) was successful (block 468, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (4293 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 10. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [7c, 7h, 6c, Qh, 8d (560121069) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should not win.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(10, bytes32(0x4777922f0f50d454a...), {from: <u>player3</u>}) was successful (block 469, 28856 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 205: 0x4777922f0f50d454a1ab238eeb6b31578244305b2d37be784efde9307a38cf2a<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(10, bytes32(0x4777922f0f50d454a...), {from: <u>player2</u>}) was successful (block 470, 45021 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> lost txFee (-225105 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(10) returns [2, 500000 GWei, 1, 205, 0, 31, 466, 0.560121069 GWei, 10]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are the same<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player2</u>) returns 0.002 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.005 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.005 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.005 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(10, 31, bytes32(0x4777922f0f50d454a...), {from: <u>player2</u>}) was successful (block 471, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(10, bytes32(0x4777922f0f50d454a...), {from: <u>player2</u>}) was successful (block 472, 29772 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1636 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and draw nothing, timeout initial hand<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 2 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player1</u>, value: 500000 GWei}) was successful (block 473, 53276 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> gained -500000 GWei but lost txFee (266380 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(11) returns [1, 500000 GWei, 1, 473, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [Ks, Ac, Qh, 10h, 5c (727288268) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 473 to 474.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(11) returns 0.727288268 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 11<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 55000 gas used (53276)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1266 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 11 with 0,0,0,0,0 after 256 blocks. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should fail due to: Cannot draw 0 cards. Use finalize instead.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 473): 0x75a62d5371e7c5f9d3b780e64b482032c93fce45079000dc1c7bdbfc72d801d6<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(11, 0, bytes32(0x75a62d5371e7c5f9d...), {from: <u>player1</u>}) was successful (block 475, 30302 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-151510 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Game should remain unmodified.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(11) returns [1, 500000 GWei, 1, 473, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 32000 gas used (30302)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (944 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 11. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [Ks, Ac, Qh, 10h, 5c (727288268) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should not win.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid hashCheck fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(11, bytes32(0xabe3dfedd47597b7b...), {from: <u>player1</u>}) was successful (block 476, 31519 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(11, bytes32(0x75a62d5371e7c5f9d...), {from: <u>player2</u>}) was successful (block 477, 28792 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 473: 0x75a62d5371e7c5f9d3b780e64b482032c93fce45079000dc1c7bdbfc72d801d6<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(11, bytes32(0x75a62d5371e7c5f9d...), {from: <u>player1</u>}) was successful (block 478, 49699 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-248495 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(11) returns [1, 500000 GWei, 1, 473, 0.727288268 GWei, 0, 0, 0.727288268 GWei, 10]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are the same<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player1</u>) returns 0.003 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.005 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.005 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.005 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(11, 31, bytes32(0x75a62d5371e7c5f9d...), {from: <u>player1</u>}) was successful (block 479, 30322 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(11, bytes32(0x75a62d5371e7c5f9d...), {from: <u>player1</u>}) was successful (block 480, 29708 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1718 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and draw all cards, timeout initial hand<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 3 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player2</u>, value: 500000 GWei}) was successful (block 481, 53276 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> gained -500000 GWei but lost txFee (266380 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(12) returns [2, 500000 GWei, 1, 481, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [Kc, Js, 10s, Ks, Jh (389059251) Two Pair]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 481 to 482.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(12) returns 0.389059251 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 12<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 55000 gas used (53276)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1347 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 12 with 1,1,1,1,1 after 256 blocks. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should succeed with warnCode 1 and draw all cards.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid hashCheck fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 482 to 483.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(12, 31, bytes32(0xe3989e210707904ce...), {from: <u>player2</u>}) was successful (block 484, 31448 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(12, 31, bytes32(0xfa05fbe35cd95a703...), {from: <u>player3</u>}) was successful (block 485, 29417 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Fast-foward 256 blocks to simulate a timeout.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 256 blocks. BlockNumber increased from 485 to 741.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 481): 0xfa05fbe35cd95a7034a017639e437e40d6c18938739cb3e82bec031740832204<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(12, 31, bytes32(0xfa05fbe35cd95a703...), {from: <u>player2</u>}) was successful (block 742, 35946 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> lost txFee (-179730 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawSuccess(time, user, id, iHand, draws, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Too many blocks passed! iHand should be 0, and draws should be 31.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(12) returns [2, 500000 GWei, 1, 481, 0, 31, 742, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert dHand is returned as expected.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">"0x8f812d46755462aaa8154fcc1323e260bfc4cd1b85657304db398d0210337205", 12, 0, 31<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">After drawing, dHand should be: [Ah, 2s, Qs, 9d, Jc (831041613) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 742 to 743.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getDHand.call(12) returns 0.831041613 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 39000 gas used (35946)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(12, 31, bytes32(0xfa05fbe35cd95a703...), {from: <u>player2</u>}) was successful (block 744, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (4298 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 12. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [Ah, 2s, Qs, 9d, Jc (831041613) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should not win.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(12, bytes32(0xfa05fbe35cd95a703...), {from: <u>player3</u>}) was successful (block 745, 28856 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 481: 0xfa05fbe35cd95a7034a017639e437e40d6c18938739cb3e82bec031740832204<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(12, bytes32(0xfa05fbe35cd95a703...), {from: <u>player2</u>}) was successful (block 746, 45078 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> lost txFee (-225390 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(12) returns [2, 500000 GWei, 1, 481, 0, 31, 742, 0.831041613 GWei, 10]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are the same<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player2</u>) returns 0.002 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.005 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.005 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.005 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(12, 31, bytes32(0xfa05fbe35cd95a703...), {from: <u>player2</u>}) was successful (block 747, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(12, bytes32(0xfa05fbe35cd95a703...), {from: <u>player2</u>}) was successful (block 748, 29772 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1608 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and draw, timeout dHand<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 2 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player1</u>, value: 500000 GWei}) was successful (block 749, 53276 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> gained -500000 GWei but lost txFee (266380 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(13) returns [1, 500000 GWei, 1, 749, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [Ah, Kh, 10s, 4h, Kc (859870797) Jacks or Better]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 749 to 750.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(13) returns 0.859870797 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 13<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 55000 gas used (53276)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1232 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 13 with 0,1,0,1,1. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid hashCheck fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 750 to 751.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(13, 26, bytes32(0x939b67e5c9e00fb82...), {from: <u>player1</u>}) was successful (block 752, 31448 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(13, 26, bytes32(0x6a940772b6e6b95af...), {from: <u>player2</u>}) was successful (block 753, 29417 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 749): 0x6a940772b6e6b95aff1c3b996e9bee6f93f705524c69e13f26d8c3d49b34b9cf<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(13, 26, bytes32(0x6a940772b6e6b95af...), {from: <u>player1</u>}) was successful (block 754, 38149 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-190745 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawSuccess(time, user, id, iHand, draws, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(13) returns [1, 500000 GWei, 1, 749, 0.859870797 GWei, 26, 754, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert dHand is returned as expected.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">"0x53c526a86540677e70e208e9d2e9565f98b077ff63c1317df0f9c78d90d02a03", 13, 859870797, 26<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">After drawing, dHand should be: [Ah, 4s, 10s, Ad, 7h (325619917) Jacks or Better]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 754 to 755.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getDHand.call(13) returns 0.325619917 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 39000 gas used (38149)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(13, 26, bytes32(0x6a940772b6e6b95af...), {from: <u>player1</u>}) was successful (block 756, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1987 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 13 after 256 blocks. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed, with warnCode: 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [Ah, Kh, 10s, 4h, Kc (859870797) Jacks or Better]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should win 0.00100 ETH from handrank 9<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(13, bytes32(0x6a940772b6e6b95af...), {from: <u>player2</u>}) was successful (block 757, 28856 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Fast-foward 256 blocks to simulate a timeout.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 256 blocks. BlockNumber increased from 757 to 1013.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 749: 0x6a940772b6e6b95aff1c3b996e9bee6f93f705524c69e13f26d8c3d49b34b9cf<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(13, bytes32(0x6a940772b6e6b95af...), {from: <u>player1</u>}) was successful (block 1014, 55882 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-279410 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 2 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'CreditsAdded(time, user, id, amount)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(13) returns [1, 500000 GWei, 1, 749, 0.859870797 GWei, 26, 754, 0.859870797 GWei, 9]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are increased<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player1</u>) returns 0.004 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.006 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.006 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.006 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(13, 31, bytes32(0x6a940772b6e6b95af...), {from: <u>player1</u>}) was successful (block 1015, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(13, bytes32(0x6a940772b6e6b95af...), {from: <u>player1</u>}) was successful (block 1016, 29772 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (3969 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and dont draw, timeout dHand<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 3 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player2</u>, value: 500000 GWei}) was successful (block 1017, 53276 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> gained -500000 GWei but lost txFee (266380 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(14) returns [2, 500000 GWei, 1, 1017, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [8d, 6c, Jd, 8s, Qc (840846113) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 1017 to 1018.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(14) returns 0.840846113 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 14<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 55000 gas used (53276)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1268 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 14 with 0,0,0,0,0. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should fail due to: Cannot draw 0 cards. Use finalize instead.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 1017): 0x8a5ddf63c540c167f3dff63076eb23c671623f428dc7a9104cc51c369d45ecd4<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(14, 0, bytes32(0x8a5ddf63c540c167f...), {from: <u>player2</u>}) was successful (block 1019, 30366 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> lost txFee (-151830 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Game should remain unmodified.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(14) returns [2, 500000 GWei, 1, 1017, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 32000 gas used (30366)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (886 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 14 after 256 blocks. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should fail due to: Initial hand not available. Drawing 5 new cards.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Fast-foward 256 blocks to simulate a timeout.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 256 blocks. BlockNumber increased from 1019 to 1275.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 1017: 0x8a5ddf63c540c167f3dff63076eb23c671623f428dc7a9104cc51c369d45ecd4<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(14, bytes32(0x8a5ddf63c540c167f...), {from: <u>player2</u>}) was successful (block 1276, 39555 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> lost txFee (-197775 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 2 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawSuccess(time, user, id, iHand, draws, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(14) returns [2, 500000 GWei, 1, 1017, 0, 31, 1276, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are the same<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player2</u>) returns 0.002 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.006 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.006 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.006 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Redo'ing finalize since it caused a 5-card draw.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (3604 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> Finalizes game 14. </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [Ad, 4c, 5c, 6d, Jh (394181274) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should not win.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(14, bytes32(0x8a5ddf63c540c167f...), {from: <u>player3</u>}) was successful (block 1277, 28856 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 1017: 0x8a5ddf63c540c167f3dff63076eb23c671623f428dc7a9104cc51c369d45ecd4<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(14, bytes32(0x8a5ddf63c540c167f...), {from: <u>player2</u>}) was successful (block 1278, 45094 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> lost txFee (-225470 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(14) returns [2, 500000 GWei, 1, 1017, 0, 31, 1276, 0.394181274 GWei, 10]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are the same<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player2</u>) returns 0.002 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.006 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.006 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.006 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(14, 31, bytes32(0x8a5ddf63c540c167f...), {from: <u>player2</u>}) was successful (block 1279, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(14, bytes32(0x8a5ddf63c540c167f...), {from: <u>player2</u>}) was successful (block 1280, 29772 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1556 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and draw all cards, timeout dHand<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 2 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player1</u>, value: 500000 GWei}) was successful (block 1281, 53276 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> gained -500000 GWei but lost txFee (266380 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(15) returns [1, 500000 GWei, 1, 1281, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [6d, Js, 9s, 2h, 5d (507019935) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 1281 to 1282.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(15) returns 0.507019935 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 15<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 55000 gas used (53276)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1291 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 15 with 1,1,1,1,1. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid hashCheck fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 1282 to 1283.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(15, 31, bytes32(0x203d9777b13098fe1...), {from: <u>player1</u>}) was successful (block 1284, 31448 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(15, 31, bytes32(0x970d5673d1062c28d...), {from: <u>player2</u>}) was successful (block 1285, 29417 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 1281): 0x970d5673d1062c28d5eafe5778bc7a4751239ede2b8c6bf689cf3a5f783d2408<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(15, 31, bytes32(0x970d5673d1062c28d...), {from: <u>player1</u>}) was successful (block 1286, 38149 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-190745 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawSuccess(time, user, id, iHand, draws, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(15) returns [1, 500000 GWei, 1, 1281, 0.507019935 GWei, 31, 1286, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert dHand is returned as expected.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">"0x30dced28403251a98dabd6053f028cbe75051732eaa4f62105242ec78ef26319", 15, 507019935, 31<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">After drawing, dHand should be: [3c, 7s, 4h, 6c, 5c (733020585) Straight]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 1286 to 1287.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getDHand.call(15) returns 0.733020585 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 39000 gas used (38149)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(15, 31, bytes32(0x970d5673d1062c28d...), {from: <u>player1</u>}) was successful (block 1288, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1988 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 15 after 256 blocks. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed, with warnCode: 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [6d, Js, 9s, 2h, 5d (507019935) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should not win.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(15, bytes32(0x970d5673d1062c28d...), {from: <u>player2</u>}) was successful (block 1289, 28856 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Fast-foward 256 blocks to simulate a timeout.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 256 blocks. BlockNumber increased from 1289 to 1545.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 1281: 0x970d5673d1062c28d5eafe5778bc7a4751239ede2b8c6bf689cf3a5f783d2408<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(15, bytes32(0x970d5673d1062c28d...), {from: <u>player1</u>}) was successful (block 1546, 43081 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-215405 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(15) returns [1, 500000 GWei, 1, 1281, 0.507019935 GWei, 31, 1286, 0.507019935 GWei, 10]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are the same<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player1</u>) returns 0.004 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.006 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.006 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.006 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(15, 31, bytes32(0x970d5673d1062c28d...), {from: <u>player1</u>}) was successful (block 1547, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(15, bytes32(0x970d5673d1062c28d...), {from: <u>player1</u>}) was successful (block 1548, 29772 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (3845 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and draw, timeout both hands<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 3 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player2</u>, value: 500000 GWei}) was successful (block 1549, 53276 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> gained -500000 GWei but lost txFee (266380 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(16) returns [2, 500000 GWei, 1, 1549, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [Qh, 3h, 9s, 8s, 8h (337413080) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 1549 to 1550.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(16) returns 0.33741308 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 16<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 55000 gas used (53276)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1259 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 16 with 1,0,1,0,1 after 256 blocks. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should succeed with warnCode 1 and draw all cards.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid hashCheck fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 1550 to 1551.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(16, 21, bytes32(0xc1173951e1a536a7d...), {from: <u>player2</u>}) was successful (block 1552, 31448 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(16, 21, bytes32(0x19aa9e9d7526867d9...), {from: <u>player3</u>}) was successful (block 1553, 29417 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Fast-foward 256 blocks to simulate a timeout.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 256 blocks. BlockNumber increased from 1553 to 1809.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 1549): 0x19aa9e9d7526867d92d08e86881021bbe41b17ba2807413c23efe2b10295b4af<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(16, 21, bytes32(0x19aa9e9d7526867d9...), {from: <u>player2</u>}) was successful (block 1810, 35946 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> lost txFee (-179730 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawSuccess(time, user, id, iHand, draws, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Too many blocks passed! iHand should be 0, and draws should be 31.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(16) returns [2, 500000 GWei, 1, 1549, 0, 31, 1810, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert dHand is returned as expected.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">"0x6c7a6ec385a0fba9bd46dcfd05e5f159c1b49bc846432c02427a70dde0800f14", 16, 0, 31<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">After drawing, dHand should be: [10c, 3c, As, 8c, Qc (850922096) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 1810 to 1811.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getDHand.call(16) returns 0.850922096 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 39000 gas used (35946)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(16, 21, bytes32(0x19aa9e9d7526867d9...), {from: <u>player2</u>}) was successful (block 1812, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (4244 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 16 after 256 blocks. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed, with warnCode: 3<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [InvalidHand]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should not win.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(16, bytes32(0x19aa9e9d7526867d9...), {from: <u>player3</u>}) was successful (block 1813, 28856 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Fast-foward 256 blocks to simulate a timeout.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 256 blocks. BlockNumber increased from 1813 to 2069.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 1549: 0x19aa9e9d7526867d92d08e86881021bbe41b17ba2807413c23efe2b10295b4af<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(16, bytes32(0x19aa9e9d7526867d9...), {from: <u>player2</u>}) was successful (block 2070, 37686 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player2</u> lost txFee (-188430 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(16) returns [2, 500000 GWei, 1, 1549, 0, 31, 1810, 0, 11]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are the same<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player2</u>) returns 0.002 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.006 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.006 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.006 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(16, 31, bytes32(0x19aa9e9d7526867d9...), {from: <u>player2</u>}) was successful (block 2071, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(16, bytes32(0x19aa9e9d7526867d9...), {from: <u>player2</u>}) was successful (block 2072, 29772 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (3983 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and dont draw, timeout both hands<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 2 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player1</u>, value: 500000 GWei}) was successful (block 2073, 53276 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> gained -500000 GWei but lost txFee (266380 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(17) returns [1, 500000 GWei, 1, 2073, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [9h, 10s, 4d, Ac, 6h (312332885) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 2073 to 2074.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(17) returns 0.312332885 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 17<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 2<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 55000 gas used (53276)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1335 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 17 with 0,0,0,0,0 after 256 blocks. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should fail due to: Cannot draw 0 cards. Use finalize instead.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 2073): 0xc2a6a9c593687d6961e0b385d0d5694db1da69a9069c4277e368cbcae58920a4<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(17, 0, bytes32(0xc2a6a9c593687d696...), {from: <u>player1</u>}) was successful (block 2075, 30366 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-151830 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Game should remain unmodified.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(17) returns [1, 500000 GWei, 1, 2073, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 32000 gas used (30366)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (923 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 17 after 256 blocks. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should fail due to: Initial hand not available. Drawing 5 new cards.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Fast-foward 256 blocks to simulate a timeout.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 256 blocks. BlockNumber increased from 2075 to 2331.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 2073: 0xc2a6a9c593687d6961e0b385d0d5694db1da69a9069c4277e368cbcae58920a4<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(17, bytes32(0xc2a6a9c593687d696...), {from: <u>player1</u>}) was successful (block 2332, 39555 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-197775 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 2 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawSuccess(time, user, id, iHand, draws, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(17) returns [1, 500000 GWei, 1, 2073, 0, 31, 2332, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are the same<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player1</u>) returns 0.004 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.006 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.006 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.006 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Redo'ing finalize since it caused a 5-card draw.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (3628 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> Finalizes game 17. </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [Js, 2c, 3h, 10s, 5s (69532170) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should not win.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(17, bytes32(0xc2a6a9c593687d696...), {from: <u>player2</u>}) was successful (block 2333, 28856 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 2073: 0xc2a6a9c593687d6961e0b385d0d5694db1da69a9069c4277e368cbcae58920a4<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(17, bytes32(0xc2a6a9c593687d696...), {from: <u>player1</u>}) was successful (block 2334, 45100 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player1</u> lost txFee (-225500 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(17) returns [1, 500000 GWei, 1, 2073, 0, 31, 2332, 0.06953217 GWei, 10]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are the same<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player1</u>) returns 0.004 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.006 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.006 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.006 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(17, 31, bytes32(0xc2a6a9c593687d696...), {from: <u>player1</u>}) was successful (block 2335, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(17, bytes32(0xc2a6a9c593687d696...), {from: <u>player1</u>}) was successful (block 2336, 29772 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1561 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and draw all, timeout both hands<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 4 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: New user -- curUserId should change to 3<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player3</u>, value: 500000 GWei}) was successful (block 2337, 93980 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player3</u> gained -500000 GWei but lost txFee (469900 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(18) returns [3, 500000 GWei, 1, 2337, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [Kc, 9s, Js, Jh, 6s (89956915) Jacks or Better]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 2337 to 2338.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(18) returns 0.089956915 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 18<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 3<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 96000 gas used (93980)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1316 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 18 with 1,1,1,1,1 after 256 blocks. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should succeed with warnCode 1 and draw all cards.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid hashCheck fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 2338 to 2339.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(18, 31, bytes32(0xacaee02a8e52455ce...), {from: <u>player3</u>}) was successful (block 2340, 31448 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(18, 31, bytes32(0x1eb3eb20dfa2735e5...), {from: <u>player1</u>}) was successful (block 2341, 29417 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Fast-foward 256 blocks to simulate a timeout.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 256 blocks. BlockNumber increased from 2341 to 2597.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 2337): 0x1eb3eb20dfa2735e5d9007de84939ccc2f060c6ae5ef9a51c6972729ce9e1375<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(18, 31, bytes32(0x1eb3eb20dfa2735e5...), {from: <u>player3</u>}) was successful (block 2598, 35946 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player3</u> lost txFee (-179730 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawSuccess(time, user, id, iHand, draws, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Too many blocks passed! iHand should be 0, and draws should be 31.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(18) returns [3, 500000 GWei, 1, 2337, 0, 31, 2598, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert dHand is returned as expected.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">"0x3fb3e48fadc84360f1e56d56cc646f26df439796b9fa7abce9ff90f622da4a01", 18, 0, 31<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">After drawing, dHand should be: [9d, Kd, 2d, 7c, 10d (599112098) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 2598 to 2599.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getDHand.call(18) returns 0.599112098 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 39000 gas used (35946)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(18, 31, bytes32(0x1eb3eb20dfa2735e5...), {from: <u>player3</u>}) was successful (block 2600, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (4309 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 18 after 256 blocks. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed, with warnCode: 3<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [InvalidHand]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should not win.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(18, bytes32(0x1eb3eb20dfa2735e5...), {from: <u>player1</u>}) was successful (block 2601, 28856 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Fast-foward 256 blocks to simulate a timeout.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 256 blocks. BlockNumber increased from 2601 to 2857.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 2337: 0x1eb3eb20dfa2735e5d9007de84939ccc2f060c6ae5ef9a51c6972729ce9e1375<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(18, bytes32(0x1eb3eb20dfa2735e5...), {from: <u>player3</u>}) was successful (block 2858, 37686 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player3</u> lost txFee (-188430 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(18) returns [3, 500000 GWei, 1, 2337, 0, 31, 2598, 0, 11]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are the same<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player3</u>) returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.006 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.006 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.006 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(18, 31, bytes32(0x1eb3eb20dfa2735e5...), {from: <u>player3</u>}) was successful (block 2859, 30025 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(18, bytes32(0x1eb3eb20dfa2735e5...), {from: <u>player3</u>}) was successful (block 2860, 29772 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (3939 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Bet and draw, timeout both hands<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Player 4 tries to bet 0.00050 ETH. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Bet should succeed.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.bet({from: <u>player3</u>, value: 500000 GWei}) was successful (block 2861, 53276 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Contract balance should increase.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> changed by 500000 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player3</u> gained -500000 GWei but lost txFee (266380 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert correct logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BetSuccess(time, user, id, bet, payTableId)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(19) returns [3, 500000 GWei, 1, 2861, 0, 0, 0, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert iHand returns as expected, based on blockhash.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Initial hand should be [7c, Kc, Js, 4s, 4c (705473773) High Card]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 2861 to 2862.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getIHand.call(19) returns 0.705473773 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert curId and curUserId are correct.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curId.call() returns 19<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.curUserId.call() returns 3<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 55000 gas used (53276)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1299 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Draws game 19 with 0,1,1,1,1 after 256 blocks. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Drawing should succeed with warnCode 1 and draw all cards.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid hashCheck fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 2862 to 2863.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(19, 30, bytes32(0x1f12fb936aea80c07...), {from: <u>player3</u>}) was successful (block 2864, 31384 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(19, 30, bytes32(0xb0246a00eb5c854c1...), {from: <u>player1</u>}) was successful (block 2865, 29353 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Fast-foward 256 blocks to simulate a timeout.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 256 blocks. BlockNumber increased from 2865 to 3121.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that drawing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 2861): 0xb0246a00eb5c854c18e7d3b67657320ebb29c6a7d6b5193829dd60ad12b5c57a<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(19, 30, bytes32(0xb0246a00eb5c854c1...), {from: <u>player3</u>}) was successful (block 3122, 35882 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player3</u> lost txFee (-179410 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawSuccess(time, user, id, iHand, draws, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Too many blocks passed! iHand should be 0, and draws should be 31.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(19) returns [3, 500000 GWei, 1, 2861, 0, 31, 3122, 0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert dHand is returned as expected.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">"0x8fe741af868fb2a6fc9d6537278ff6bd12de0703c3e782df11ed680252200d71", 19, 0, 31<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">After drawing, dHand should be: [Ac, Jh, 4h, As, 8c (771818983) Jacks or Better]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 1 blocks. BlockNumber increased from 3122 to 3123.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getDHand.call(19) returns 0.771818983 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ less than 39000 gas used (35882)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(19, 30, bytes32(0xb0246a00eb5c854c1...), {from: <u>player3</u>}) was successful (block 3124, 29961 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (4490 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Finalizes game 19 after 256 blocks. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Finalizing should succeed, with warnCode: 3<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Final hand should be: [InvalidHand]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Note: Game should not win.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that passing invalid userId fails.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(19, bytes32(0xb0246a00eb5c854c1...), {from: <u>player1</u>}) was successful (block 3125, 28792 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id, msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Fast-foward 256 blocks to simulate a timeout.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Mined 256 blocks. BlockNumber increased from 3125 to 3381.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert that finalizing works.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">HashCheck (block 2861: 0xb0246a00eb5c854c18e7d3b67657320ebb29c6a7d6b5193829dd60ad12b5c57a<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(19, bytes32(0xb0246a00eb5c854c1...), {from: <u>player3</u>}) was successful (block 3382, 37622 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>videoPoker</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>player3</u> lost txFee (-188110 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert proper logs.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 1 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeSuccess(time, user, id, dHand, handRank, payout, warnCode)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert game is stored correctly.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.games.call(19) returns [3, 500000 GWei, 1, 2861, 0, 31, 3122, 0, 11]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert user credits are the same<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.credits.call(<u>player3</u>) returns 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalCredits.call() returns 0.006 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.totalWon.call() returns 0.006 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>videoPoker</u>.getCollateral.call() returns 0.006 ETH<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Assert expected gas usage.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot draw again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.draw(19, 31, bytes32(0xb0246a00eb5c854c1...), {from: <u>player3</u>}) was successful (block 3383, 29961 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DrawFailure(time, user, id, draws)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000">  </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Test that user cannot finalize again.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>videoPoker</u>.finalize(19, bytes32(0xb0246a00eb5c854c1...), {from: <u>player3</u>}) was successful (block 3384, 29708 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FinalizeFailure(time, user, id)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (4120 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  ├ <span style="color:#000"> <b><span style="color:#000">Ensure all conditions are met<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Conditions for bet<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> bet with minBet </span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (0 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> bet with maxBet </span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (0 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> bet with curMaxBet </span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (0 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Conditions for draw<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> draw with invalidDraws </span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (0 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> draw with noTimeout </span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (0 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> draw with iHandTimeout </span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (0 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Conditions for finalize<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> finalize with noTimeout </span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (0 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> finalize with iHandTimeout </span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (0 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> finalize with dHandTimeout </span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (0 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> finalize with bothHandTimeout </span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (0 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <b><span style="color:#000">finalize with noDraws<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> noTimeout </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (0 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> iHandTimeout </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (0 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> bothHandTimeout </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (0 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> finalize with win </span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (0 ms)<span style="color:#000"> </span></span></span></span> 

  =========== <span style="color:#0A0"><b> SMOCHA FINISHED SUCCESSFULLY </b><span style="color:#000"> ===========

  <span style="color:#0A0"><b>87</b><span style="color:#000"><span style="color:#0A0"> passed.<span style="color:#000"> <span style="color:#A00"><b>0</b><span style="color:#000"><span style="color:#A00"> errors.<span style="color:#000"> <span style="color:#555"><b>0</b><span style="color:#000"><span style="color:#555"> skipped.<span style="color:#000"> 126.77s

</span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>
	</body>
</html>
