
<html>
	<head>
		<title>Test results for: tests/Treasury.js</title>
		<style>
			body {
				background: #FFF;
				padding: 10px;
			}
			pre {
				font-family: Consolas, 'Courier New';
				font-size: 75%;
			}
		</style>
	</head>
	<body>
		<h1>Test results for: tests/Treasury.js</h1>
		<pre>
  ========================================= 
  =========== <span style="color:#000"><b> SMOCHA STARTING </b><span style="color:#000"> ===========
  ========================================= 

<span style="color:#AAA">├ <span style="color:#000"> <b>File: tests/Treasury.js</b> </span></span></span></span> 
<span style="color:#AAA">│  ├ <span style="color:#000"> <b><span style="color:#000">Treasury<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  ├ <span style="color:#000"> before: Set up registry and treasury </span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> </span></span><i><span style="color:#555">Create Registry, and register MAIN_CONTROLLER and ADMIN<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ newTx: Registry.new(<u>owner</u>, {from: <u>anon</u>}) was successful (block 851, 196991 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>registry</u>.register("MAIN_CONTROLLER", <u>dummyMainController</u>, {from: <u>owner</u>}) was successful (block 852, 46123 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>registry</u>.register("ADMIN", <u>admin</u>, {from: <u>owner</u>}) was successful (block 853, 45483 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Named Addresses:<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  admin:               0x6d6e7efa4f8ce4932ba3a95641a88e05b2bf2c57<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  anon:                0x28428219b2a75191775d55abfa0c9b49b6d068e0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  dummyComptroller:    0x64a7383400204cfa493dca5cd9bb07507b22d56a<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  dummyMainController: 0xf6190b65560fca1bd5f84d815ab75db13e035cd3<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  dummyToken:          0x771e73c55e8aba9cbfecbfd808f3734263cc64de<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  NO_ADDRESS:          0x0000000000000000000000000000000000000000<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  owner:               0x5048b489a37d552285368f52cc661b189a1f25b0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  registry:            0x0fb718c1e04de168cc48ff0381a4493d9555a7a6<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">  treasury:            0x744996ac49d393fcf2da824a46b473f5ccc55608<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (827 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  ├ <span style="color:#000"> <b><span style="color:#000">Initially<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Should have correct mainController and admin </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ Balance of <u>treasury</u> should equal 0 Wei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getMainController.call() should equal <u>dummyMainController</u><span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getAdmin.call() should equal <u>admin</u><span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.token.call() should equal <u>NO_ADDRESS</u><span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.comptroller.call() should equal <u>NO_ADDRESS</u><span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getOwner.call() should equal <u>owner</u><span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (203 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Cannot fund 1 (Cannot fund.) </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.canFund.call(1) should equal false<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.fundMainController(1, "Test reason.", {from: <u>dummyMainController</u>}) was successful (block 855, 43946 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FundFailure(reason)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>treasury</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>dummyMainController</u> lost txFee (-219.73 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.totalFunded.call() should equal 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.amtFundedToday.call() should equal 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance == (revenue + bankroll) - (funded + distributed + rewarded)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (909 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Cannot distribute (No address to distribute to.) </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getAmountToDistribute.call() should equal 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributeReward.call() should equal 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.distributeToToken({from: <u>anon</u>}) was successful (block 856, 24083 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DistributeError(msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>treasury</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>anon</u> lost txFee (-120.415 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.totalDistributed.call() should equal 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance == (revenue + bankroll) - (funded + distributed + rewarded)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (889 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  ├ <span style="color:#000"> <b><span style="color:#000">On initialization<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b></b></span></span><i><span style="color:#555">Treasury cannot fund if there is no daily limit.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b></b></span></span><i><span style="color:#555">Treasury cannot distribute if there is no token set.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Can receive 10000 </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.sendTransaction({value: 10000 Wei, from: <u>anon</u>}) was successful (block 857, 43054 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RevenueReceived(time, sender, amount)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>anon</u> gained -10000 Wei but lost txFee (215.27 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>treasury</u> changed by 10000 Wei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.totalRevenue.call() should equal 10000<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance == (revenue + bankroll) - (funded + distributed + rewarded)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (839 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Cannot fund 1 (Cannot fund.) </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.canFund.call(1) should equal false<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.fundMainController(1, "Test reason.", {from: <u>dummyMainController</u>}) was successful (block 858, 44157 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FundFailure(reason)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>treasury</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>dummyMainController</u> lost txFee (-220.785 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.totalFunded.call() should equal 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.amtFundedToday.call() should equal 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance == (revenue + bankroll) - (funded + distributed + rewarded)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (948 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Cannot distribute (No address to distribute to.) </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getAmountToDistribute.call() should equal 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributeReward.call() should equal 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.distributeToToken({from: <u>anon</u>}) was successful (block 859, 24083 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DistributeError(msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>treasury</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>anon</u> lost txFee (-120.415 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.totalDistributed.call() should equal 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance == (revenue + bankroll) - (funded + distributed + rewarded)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (933 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  ├ <span style="color:#000"> <b><span style="color:#000">.setDistributeReward()<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Not callable from anon </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.setDistributeReward(100, {from: <u>anon</u>}) failed<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (24 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Must be >10 </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.setDistributeReward(9, {from: <u>admin</u>}) failed<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (23 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Works </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.setDistributeReward(100, {from: <u>admin</u>}) was successful (block 862, 32081 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DistributeRewardChanged(sender, oldValue, newValue)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.distributeRewardDenom.call() should equal 100<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (150 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  ├ <span style="color:#000"> <b><span style="color:#000">dailyFundLimit<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">.setDailyFundLimit() to initial value<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Not callable by anon </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.setDailyFundLimit(1000000, {from: <u>anon</u>}) failed<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (35 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Can be initialized (to 1000000) </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.setDailyFundLimit(1000000, {from: <u>admin</u>}) was successful (block 864, 67294 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DailyFundLimitChanged(sender, oldValue, newValue)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.dailyFundLimit.call() should equal 1000000<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.dayDailyFundLimitChanged.call() should equal {not: 0}<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (170 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Not callable in same day. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.setDailyFundLimit(1000000, {from: <u>admin</u>}) failed<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (22 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">.setDailyFundLimit() to a new value<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> before: Ensure it is initialized, and fast forward a day. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.dailyFundLimit.call() should equal 1000000<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Fast forwarded 86400 seconds<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (311 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Cannot be increased by >5% </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.setDailyFundLimit(1051000, {from: <u>admin</u>}) failed<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (31 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Cannot be decreased by >%5 </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.setDailyFundLimit(949000, {from: <u>admin</u>}) failed<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (22 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Not callable by anon </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.setDailyFundLimit(1030000, {from: <u>anon</u>}) failed<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (25 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Works </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.setDailyFundLimit(1030000, {from: <u>admin</u>}) was successful (block 870, 37407 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DailyFundLimitChanged(sender, oldValue, newValue)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.dailyFundLimit.call() should equal 1030000<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.dayDailyFundLimitChanged.call() should equal {not: 0}<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (163 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Not callable in same day. </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.setDailyFundLimit(1000000, {from: <u>admin</u>}) failed<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (24 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Works the next day (reset dailyLimit to 1000000) </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Fast forwarded 86400 seconds<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.setDailyFundLimit(1000000, {from: <u>admin</u>}) was successful (block 873, 37407 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DailyFundLimitChanged(sender, oldValue, newValue)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.dailyFundLimit.call() should equal 1000000<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.dayDailyFundLimitChanged.call() should equal {not: 0}<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (397 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Test the daily limit<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> before: Fund treasury with two times the daily limit. </span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> Can receive 2000000 </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.sendTransaction({value: 2000000 Wei, from: <u>anon</u>}) was successful (block 874, 28054 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RevenueReceived(time, sender, amount)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>anon</u> gained -2000000 Wei but lost txFee (140.27 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>treasury</u> changed by 2000000 Wei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.totalRevenue.call() should equal 2010000<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance == (revenue + bankroll) - (funded + distributed + rewarded)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (834 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Fund half the daily limit, then try the other half (plus one)<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> Can fund 500000 </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.canFund.call(500000) should equal true<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.fundMainController(500000, "Test reason.", {from: <u>dummyMainController</u>}) was successful (block 875, 117060 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FundSuccess(time, recipient, note, value)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>dummyMainController</u> gained 500000 Wei but lost txFee (585.3 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>treasury</u> changed by -500000 Wei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.totalFunded.call() should equal 500000<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance == (revenue + bankroll) - (funded + distributed + rewarded)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (865 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> Cannot fund 500001 (Cannot fund.) </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.canFund.call(500001) should equal false<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.fundMainController(500001, "Test reason.", {from: <u>dummyMainController</u>}) was successful (block 876, 45006 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FundFailure(reason)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>treasury</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>dummyMainController</u> lost txFee (-225.03 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.totalFunded.call() should equal 500000<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.amtFundedToday.call() should equal 500000<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance == (revenue + bankroll) - (funded + distributed + rewarded)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (922 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <b><span style="color:#000">When a refund occurs, it credits the daily limit<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <b></b></span></span><i><span style="color:#555">Right now, Treasury has funded half the daily limit.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <b></b></span></span><i><span style="color:#555">After refunding 10 wei, Treasury should be able to fund the second half.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <b></b></span></span><i><span style="color:#555">However, it should not be able to fund an additional 10 wei.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> MainController can refund 10 </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.acceptRefund("Bla bla bla.", {from: <u>dummyMainController</u>, value: 10 Wei}) was successful (block 877, 39308 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RefundReceived(note, sender, value)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>treasury</u> changed by 10 Wei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>dummyMainController</u> gained -10 Wei but lost txFee (196.54 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.amtFundedToday.call() should equal 499990<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance == (revenue + bankroll) - (funded + distributed + rewarded)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (852 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> Can fund 500001 </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.canFund.call(500001) should equal true<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.fundMainController(500001, "Test reason.", {from: <u>dummyMainController</u>}) was successful (block 878, 67471 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FundSuccess(time, recipient, note, value)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>dummyMainController</u> gained 500001 Wei but lost txFee (337.355 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>treasury</u> changed by -500001 Wei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.totalFunded.call() should equal 999991<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance == (revenue + bankroll) - (funded + distributed + rewarded)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (890 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> Cannot fund 10 (Cannot fund.) </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.canFund.call(10) should equal false<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.fundMainController(10, "Test reason.", {from: <u>dummyMainController</u>}) was successful (block 879, 44878 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FundFailure(reason)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>treasury</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>dummyMainController</u> lost txFee (-224.39 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.totalFunded.call() should equal 999991<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.amtFundedToday.call() should equal 999991<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance == (revenue + bankroll) - (funded + distributed + rewarded)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (903 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Fast forwards to next day </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Fast forwarded 86400 seconds<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (184 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Cannot fund the daily limit plus 1<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <b></b></span></span><i><span style="color:#555">Treasury should now able to fund the full daily limit, but not more.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> Cannot fund 1000001 (Cannot fund.) </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.canFund.call(1000001) should equal false<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.fundMainController(1000001, "Test reason.", {from: <u>dummyMainController</u>}) was successful (block 881, 44285 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FundFailure(reason)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>treasury</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>dummyMainController</u> lost txFee (-221.425 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.totalFunded.call() should equal 999991<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.amtFundedToday.call() should equal 999991<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance == (revenue + bankroll) - (funded + distributed + rewarded)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (936 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> Can fund 1000000 </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.canFund.call(1000000) should equal true<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.fundMainController(1000000, "Test reason.", {from: <u>dummyMainController</u>}) was successful (block 882, 72060 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FundSuccess(time, recipient, note, value)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>dummyMainController</u> gained 1000000 Wei but lost txFee (360.3 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>treasury</u> changed by -1000000 Wei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.totalFunded.call() should equal 1999991<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance == (revenue + bankroll) - (funded + distributed + rewarded)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (849 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> Cannot fund 1 (Cannot fund.) </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.canFund.call(1) should equal false<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.fundMainController(1, "Test reason.", {from: <u>dummyMainController</u>}) was successful (block 883, 44878 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'FundFailure(reason)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>treasury</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>dummyMainController</u> lost txFee (-224.39 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.totalFunded.call() should equal 1999991<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.amtFundedToday.call() should equal 1000000<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance == (revenue + bankroll) - (funded + distributed + rewarded)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (942 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Setting Comptroller and Token<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <b><span style="color:#000">.initComptroller()<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> Cannot be set by anon </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.initComptroller(<u>dummyComptroller</u>, {from: <u>anon</u>}) failed<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (29 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> Cannot be set by admin </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.initComptroller(<u>dummyComptroller</u>, {from: <u>admin</u>}) failed<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (22 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> Works </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.initComptroller(<u>dummyComptroller</u>, {from: <u>owner</u>}) was successful (block 886, 47968 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'ComptrollerSet()' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.comptroller.call() should equal <u>dummyComptroller</u><span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (148 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> Cannot be set again </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.initComptroller(<u>dummyComptroller</u>, {from: <u>owner</u>}) failed<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (21 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <b><span style="color:#000">.initToken()<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> Cannot be set from anon </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.initToken(<u>dummyToken</u>, {from: <u>anon</u>}) failed<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (73 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> Cannot be set from admin </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.initToken(<u>dummyToken</u>, {from: <u>admin</u>}) failed<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (27 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> Can be set by owner </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.initToken(<u>dummyToken</u>, {from: <u>owner</u>}) was successful (block 890, 48450 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'TokenSet(token)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.token.call() should equal <u>dummyToken</u><span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (146 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> Cannot be set again </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.initToken(<u>dummyToken</u>, {from: <u>owner</u>}) failed<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (35 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">.addToBankroll()<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> before: has no bankroll </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.bankroll.call() should equal 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (77 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> cannot be called from admin </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.addToBankroll({from: <u>admin</u>, value: 1000000 Wei}) failed<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (20 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Works correctly (from comptroller) </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.addToBankroll({from: <u>dummyComptroller</u>, value: 1000000 Wei}) was successful (block 893, 44207 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BankrollChanged(oldValue, newValue)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.bankroll.call() should equal 1000000<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (152 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">.removeFromBankroll()<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> before: has a bankroll already </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.bankroll.call() should equal {not: 0}<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (13 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Cannot be called from admin </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.removeFromBankroll(400000, <u>anon</u>, {from: <u>admin</u>}) failed<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (32 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Works correctly (called from comptroller, to anon) </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.removeFromBankroll(400000, <u>anon</u>, {from: <u>dummyComptroller</u>}) was successful (block 895, 39627 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'BankrollChanged(oldValue, newValue)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>treasury</u> changed by -400000 Wei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>anon</u> changed by 400000 Wei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>dummyComptroller</u> lost txFee (-198.135 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (961 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Cannot remove more bankroll than exists </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.removeFromBankroll(600001, <u>anon</u>, {from: <u>dummyComptroller</u>}) failed<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (104 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">.removeFromBankroll cannot remove more than balance<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> before: Distribute, then fund 14 * DAILY_LIMIT + 1 </span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (0 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Ensure bankroll is equal to distribution threshold<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <b></b></span></span><i><span style="color:#555">We deposit ETH, then distribute to token.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <b></b></span></span><i><span style="color:#555">The balance should then be bankroll + 14*daily_limit.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> Can receive 1000000000000 </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.sendTransaction({value: 1 GWei, from: <u>anon</u>}) was successful (block 897, 28054 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RevenueReceived(time, sender, amount)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>anon</u> gained -1 GWei but lost txFee (140.27 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>treasury</u> changed by 1 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.totalRevenue.call() should equal 1.00000201 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance == (revenue + bankroll) - (funded + distributed + rewarded)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (883 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> Can distribute to token </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributeReward.call() should equal 9999860100<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getAmountToDistribute.call() should equal 999986010009<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.distributeToToken({from: <u>anon</u>}) was successful (block 898, 165995 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 2 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RewardPaid(recipient, note, amount)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DistributeSuccess(token, amount)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>dummyToken</u> changed by 0.989986149909 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>treasury</u> changed by -0.999986010009 GWei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>anon</u> gained 0.0099998601 GWei but lost txFee (829.975 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ Balance of <u>treasury</u> should equal 14600000 Wei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.totalDistributed.call() should equal 989986149909<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance == (revenue + bankroll) - (funded + distributed + rewarded)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1259 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> Bankroll == Dividend Threshold </span></span> 
<span style="color:#AAA">│  │  │  │  │  │  │  ├ <span style="color:#000"> </span></span><i><span style="color:#555">Balance: 14600000, 14*dailyLimit: 14600000<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (110 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <b><span style="color:#000">Funds 14*DAILY_LIMIT + 1<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <b></b></span></span><i><span style="color:#555">We fund the full daily_limit 15 days in a row.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <b></b></span></span><i><span style="color:#555">This ensures the balance is less than the bankroll.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <b></b></span></span><i><span style="color:#555">This is a situation where the Treasury is not fully solvent.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <b><span style="color:#AAA">Fast forwarded 86400 seconds<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <b><span style="color:#AAA">Fast forwarded 86400 seconds<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <b><span style="color:#AAA">Fast forwarded 86400 seconds<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <b><span style="color:#AAA">Fast forwarded 86400 seconds<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <b><span style="color:#AAA">Fast forwarded 86400 seconds<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <b><span style="color:#AAA">Fast forwarded 86400 seconds<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <b><span style="color:#AAA">Fast forwarded 86400 seconds<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <b><span style="color:#AAA">Fast forwarded 86400 seconds<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <b><span style="color:#AAA">Fast forwarded 86400 seconds<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <b><span style="color:#AAA">Fast forwarded 86400 seconds<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <b><span style="color:#AAA">Fast forwarded 86400 seconds<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <b><span style="color:#AAA">Fast forwarded 86400 seconds<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <b><span style="color:#AAA">Fast forwarded 86400 seconds<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <b><span style="color:#AAA">Fast forwarded 86400 seconds<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  │  │  ├ <span style="color:#000"> <b><span style="color:#AAA">Fast forwarded 86400 seconds<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Fails if it cannot afford to removeFromBankroll </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> </span></span><i><span style="color:#555">Balance: 599999 < Bankroll: 600000<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> </span></span><i><span style="color:#555">Treasury cannot afford to remove full bankroll.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.removeFromBankroll(600000, {from: <u>dummyComptroller</u>}) failed<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (147 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b><span style="color:#000">.distributeToToken()<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <b></b></span></span><i><span style="color:#555">We deposit a large amount of revenue.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <b></b></span></span><i><span style="color:#555">Treasury should now be able to distribute dividends once again.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Can receive 123456789 </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.sendTransaction({value: 123456789 Wei, from: <u>anon</u>}) was successful (block 929, 28054 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RevenueReceived(time, sender, amount)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>anon</u> gained -123456789 Wei but lost txFee (140.27 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>treasury</u> changed by 123456789 Wei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.totalRevenue.call() should equal 1.000125466789 GWei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance == (revenue + bankroll) - (funded + distributed + rewarded)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (858 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Can distribute to token </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributeReward.call() should equal 1094567<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getAmountToDistribute.call() should equal 109456788<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.distributeToToken({from: <u>anon</u>}) was successful (block 930, 105995 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ exactly 2 logs found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RewardPaid(recipient, note, amount)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DistributeSuccess(token, amount)' log was found<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>dummyToken</u> changed by 108362221 Wei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>treasury</u> changed by -109456788 Wei.<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>anon</u> gained 1094567 Wei but lost txFee (529.975 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ Balance of <u>treasury</u> should equal 14600000 Wei<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.totalDistributed.call() should equal 990094512130<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance == (revenue + bankroll) - (funded + distributed + rewarded)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (1284 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> Cannot distribute (No profit to distribute.) </span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getAmountToDistribute.call() should equal 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributeReward.call() should equal 0<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.distributeToToken({from: <u>anon</u>}) was successful (block 931, 25424 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'DistributeError(msg)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>treasury</u> did not change<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance of <u>anon</u> lost txFee (-127.12 GWei)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.totalDistributed.call() should equal 990094512130<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ balance == (revenue + bankroll) - (funded + distributed + rewarded)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (938 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  ├ <span style="color:#000"> <b><span style="color:#000">Distribution Stats<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  ├ <span style="color:#000"> before: Set up registry and treasury </span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.initToken(<u>dummyToken</u>, {from: <u>owner</u>}) was successful (block 935, 48386 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.setDistributeReward(101, {from: <u>admin</u>}) was successful (block 936, 32081 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (749 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  ├ <span style="color:#000"> <b><span style="color:#000">Distribution stats<span style="color:#000"> </span></span></b></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b></b></span></span><i><span style="color:#555">Treasury has the ability to do a binary search for dividends (.getDistributionStats).<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> <b></b></span></span><i><span style="color:#555">This is difficult to test. What we do is deposit and distribute many times,<span style="color:#000"></span></span></i>
<span style="color:#AAA">│  │  │     <span style="color:#000"><b></b></span></span><i><span style="color:#555">and check that after each distribution that the stats returned are correct.<span style="color:#000"></span></span></i>  
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Works for 1st deposit </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.sendTransaction({value: 101 Wei, from: <u>anon</u>}) was successful (block 937, 43054 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RevenueReceived(time, sender, amount)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Called .distributeToToken() (165995 gas)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(0, 0) should equal [1, 100]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(0, 1519281386) should equal [1, 100]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(1519281386, 0) should equal [1, 100]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(1519281400, 1519281400) should equal [0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Estimate gas for getting all: 26305<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (508 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Works for 2nd deposit </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.sendTransaction({value: 1010 Wei, from: <u>anon</u>}) was successful (block 939, 28054 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RevenueReceived(time, sender, amount)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Called .distributeToToken() (105995 gas)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(0, 0) should equal [2, 1100]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(0, 1519281387) should equal [2, 1100]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(1519281387, 0) should equal [1, 1000]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(1519281401, 1519281387) should equal [0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Estimate gas for getting all: 27905<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (414 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Works for 3rd deposit </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.sendTransaction({value: 10100 Wei, from: <u>anon</u>}) was successful (block 941, 28054 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RevenueReceived(time, sender, amount)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Called .distributeToToken() (105995 gas)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(0, 0) should equal [3, 11100]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(0, 1519281387) should equal [3, 11100]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(1519281387, 0) should equal [2, 11000]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(1519281387, 1519281394) should equal [2, 11000]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Estimate gas for getting all: 29491<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (442 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Works for 4th deposit </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.sendTransaction({value: 101000 Wei, from: <u>anon</u>}) was successful (block 943, 28054 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RevenueReceived(time, sender, amount)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Called .distributeToToken() (105995 gas)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(0, 0) should equal [4, 111100]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(0, 1519281387) should equal [3, 11100]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(1519281387, 0) should equal [3, 111000]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(1519281387, 1519281395) should equal [3, 111000]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Estimate gas for getting all: 31736<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (476 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Works for 5th deposit </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.sendTransaction({value: 1010000 Wei, from: <u>anon</u>}) was successful (block 945, 28054 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RevenueReceived(time, sender, amount)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Called .distributeToToken() (105995 gas)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(0, 0) should equal [5, 1111100]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(0, 1519281387) should equal [3, 11100]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(1519281387, 0) should equal [4, 1111000]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(1519281402, 1519281402) should equal [0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Estimate gas for getting all: 33968<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (483 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Works for 6th deposit </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.sendTransaction({value: 10100000 Wei, from: <u>anon</u>}) was successful (block 947, 28054 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RevenueReceived(time, sender, amount)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Called .distributeToToken() (105995 gas)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(0, 0) should equal [6, 11111100]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(0, 1519281388) should equal [5, 1111100]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(1519281388, 0) should equal [3, 11100000]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(1519281389, 1519281403) should equal [1, 10000000]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Estimate gas for getting all: 36213<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (522 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Works for 7th deposit </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.sendTransaction({value: 202 Wei, from: <u>anon</u>}) was successful (block 949, 28054 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RevenueReceived(time, sender, amount)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Called .distributeToToken() (105995 gas)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(0, 0) should equal [7, 11111300]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(0, 1519281388) should equal [5, 1111100]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(1519281388, 0) should equal [4, 11100200]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(1519281400, 1519281394) should equal [0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Estimate gas for getting all: 37799<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (508 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Works for 8th deposit </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.sendTransaction({value: 2020 Wei, from: <u>anon</u>}) was successful (block 951, 28054 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RevenueReceived(time, sender, amount)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Called .distributeToToken() (105995 gas)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(0, 0) should equal [8, 11113300]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(0, 1519281388) should equal [5, 1111100]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(1519281388, 0) should equal [5, 11102200]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(1519281387, 1519281402) should equal [7, 11113200]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Estimate gas for getting all: 39385<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (489 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Works for 9th deposit </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.sendTransaction({value: 20200 Wei, from: <u>anon</u>}) was successful (block 953, 28054 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RevenueReceived(time, sender, amount)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Called .distributeToToken() (105995 gas)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(0, 0) should equal [9, 11133300]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(0, 1519281388) should equal [5, 1111100]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(1519281388, 0) should equal [6, 11122200]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(1519281395, 1519281389) should equal [0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Estimate gas for getting all: 41617<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (513 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Works for 10th deposit </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.sendTransaction({value: 202000 Wei, from: <u>anon</u>}) was successful (block 955, 28054 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RevenueReceived(time, sender, amount)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Called .distributeToToken() (105995 gas)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(0, 0) should equal [10, 11333300]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(0, 1519281389) should equal [7, 11111300]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(1519281389, 0) should equal [5, 10222200]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(1519281400, 1519281401) should equal [0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Estimate gas for getting all: 43862<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (540 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Works for 11th deposit </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.sendTransaction({value: 2020000 Wei, from: <u>anon</u>}) was successful (block 957, 28054 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RevenueReceived(time, sender, amount)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Called .distributeToToken() (105995 gas)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(0, 0) should equal [11, 13333300]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(0, 1519281389) should equal [7, 11111300]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(1519281389, 0) should equal [6, 12222200]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(1519281401, 1519281394) should equal [0, 0]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Estimate gas for getting all: 45448<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (515 ms)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  ├ <span style="color:#000"> Works for 12th deposit </span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ tx: <u>treasury</u>.sendTransaction({value: 20200000 Wei, from: <u>anon</u>}) was successful (block 959, 28054 gas used)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ 'RevenueReceived(time, sender, amount)' log was the only log<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Called .distributeToToken() (105995 gas)<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(0, 0) should equal [12, 33333300]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(0, 1519281389) should equal [7, 11111300]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(1519281389, 0) should equal [7, 32222200]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">✓ <u>treasury</u>.getDistributionStats.call(1519281388, 1519281406) should equal [9, 33322200]<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  ├ <span style="color:#000"> <span style="color:#AAA">Estimate gas for getting all: 47034<span style="color:#000"> </span></span></span></span> 
<span style="color:#AAA">│  │  │  │  └ <span style="color:#000"> <span style="color:#0A0">✓ passed (595 ms)<span style="color:#000"> </span></span></span></span> 

  =========== <span style="color:#0A0"><b> SMOCHA FINISHED </b><span style="color:#000">  ===========

  <span style="color:#0A0"><b>60</b><span style="color:#000"><span style="color:#0A0"> passed.<span style="color:#000"> <span style="color:#A00"><b>0</b><span style="color:#000"><span style="color:#A00"> errors.<span style="color:#000"> <span style="color:#555"><b>0</b><span style="color:#000"><span style="color:#555"> skipped.<span style="color:#000"> 33.51s

</span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre>
	</body>
</html>
