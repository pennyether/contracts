<!DOCTYPE html>
<html>
	<head>
		<script src="/javascripts/lib/Loader.js"></script>
		<script src="/javascripts/games/rewards.js"></script>
		<style>
			#Summary {
				padding: 10px 30px 30px 30px;
			}
			.summary, .notice, .no-reward {
				margin: 10px;
				padding: 10px;
				font-size: 90%;
				border: 1px solid #CCC;
				background: #FAFAFA;
			}
			.notice {
				border: 1px solid #CC8;
				background: #FFFFFA;
			}
			.no-reward {
				border: none;
				background: none;
				color: red;
			}

			.field {
				padding: 5px 0px;
			}
			.label, .value {
				display: inline-block;
			}

			.paRefresh .label {
				width: 160px;
			}
			.paStart .label {
				width: 160px;
			}
			.trDiv .label {
				width: 200px;
			}
			.subsection {
				padding-bottom: 30px;
			}

			.good {
				color: green;
			}
			.bad {
				color: red;
			}
		</style>
	</head>
	<body><div id="Content">
		<div class="section title">
			Win Rewards
		</div>
		<div id="Summary">
			PennyEther is run autonomously, and has no back-end processes or special accounts that keep it running. In order to keep running, it relies on <i>you</i> to periodically call a few contract functions. In return for calling these functions, you will earn rewards.
			<div class="notice">
				It is possible that two people try to get the same reward by both submitting transactions. When this happens, only the first transaction will receive the reward. The second transaction will execute and end early, consuming only a small amount of gas. For each reward, we've estimated this amount of gas that could be wasted - it's labeled as "risk".
				<br><br>
				It's up to you to choose a gasPrice you are willing to pay. The higher it is, the more likely is is that your transaction will execute first. For each reward, we've provided a calculator to help you make an informed decision. You may also find <a href="https://ethgasstation.info/" target="_blank">EthGasStation</a> helpful in determining a gasPrice.
			</div>
		</div>
		<div class="subsection paStart">
			<div class="head">Start a Penny Auction</div>
			<div class="body">
				<div class="summary">
					When an existing Penny Auction has ended, a new one can be started in its place. This costs quite a bit of gas, but rewards you in Ether.
				</div>
				<div>
					<div class="no-reward">
						There are currently no Penny Auctions to start. Keep an eye on <a href="/status/games.html">Game Statuses</a> and try again later.
					</div>
					<div class="fields">
						<div class="field">
							<div class="label tipLeft" title="Choose a gasPrice you are willing to pay to execute this reward, this hit refresh to update the values below.">GasPrice:</div>
							<div class="value">
								<input type=text value="20" class="gasPrice" size=3> GWei
								<button class="refresh">Refresh</button>
							</div>
						</div>
						<div class="reward field">
							<div class="label tipLeft" title="This is the amount you'll receive for executing this reward.">Reward:</div>
							<div class="value"></div>
						</div>
						<div class="cost field">
							<div class="label tipLeft" title="This is how much it will cost you to execute this reward.">Estimated Cost:</div>
							<div class="value"></div>
						</div>
						<div class="profit field">
							<div class="label tipLeft" title="This is your total profit for executing this reward.">Profit:</div>
							<div class="value"></div>
						</div>
						<div class="risk field">
							<div class="label tipLeft" title="If somebody else claims the reward before you, you'll lose up to this amount in gas costs.'">Risk:</div>
							<input type=hidden class="failGasPrice" value="58277"/>
							<div class="value"></div>
						</div>
						<div class="execute field">
							<div class="label tipLeft" title="Click here to submit a transaction with your chosen gasPrice.">Execute:</div>
							<div class="value">
								<button>Claim Reward</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="subsection paRefresh">
			<div class="head">Refresh Penny Auctions</div>
			<div class="body">
				<div class="summary">
					As Penny Auctions are run, they accumulate bid fees (revenue) which needs to be sent to the Treasury. Additionally, auctions may have ended and require paying the winner a reward. All of this costs gas. You'll be rewarded a percentage of the fees sent to the Treasury, as well as receive Ether any time a game has ended.
				</div>
				<div>
					<div class="no-reward">
						Refreshing Penny Auctions would currently receive no reward. Check back later.
					</div>
					<div class="fields">
						<div class="field">
							<div class="label tipLeft" title="Choose a gasPrice you are willing to pay to execute this reward, this hit refresh to update the values below.">GasPrice:</div>
							<div class="value">
								<input type=text value="20" class="gasPrice" size=3> GWei
								<button class="refresh">Refresh</button>
							</div>
						</div>
						<div class="settings field">
							<div class="label tipLeft" title="These are the values at which you will be rewarded.">Settings:</div>
							<div class="value">.01 ETH per auction ended + .1% of fees collected</div>
						</div>
						<div class="available field">
							<div class="label tipLeft" title="These are the values at which you will be rewarded.">Available:</div>
							<div class="value">2 auctions to end, .05 ETH fees to collect</div>
						</div>
						<div class="reward field">
							<div class="label tipLeft" title="This is the amount you'll receive for executing this reward.">Reward:</div>
							<div class="value"></div>
						</div>
						<div class="cost field">
							<div class="label tipLeft" title="This is how much it will cost you to execute this reward.">Estimated Cost:</div>
							<div class="value"></div>
						</div>
						<div class="profit field">
							<div class="label tipLeft" title="This is your total profit for executing this reward.">Profit:</div>
							<div class="value"></div>
						</div>
						<div class="risk field">
							<div class="label tipLeft" title="If somebody else claims the reward before you, you'll lose up to this amount in gas costs.">Risk:</div>
							<div class="value"></div>
						</div>
						<div class="execute field">
							<div class="label tipLeft" title="Click here to submit a transaction with your chosen gasPrice.">Execute:</div>
							<div class="value">
								<button>Claim Reward</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="subsection trDiv">
			<div class="head">Distribute Dividends</div>
			<div class="body">
				<div class="summary">
					When the Treasury has a surplus of funds, it is able to distribute dividends to token holders. This costs a small amount of gas, but rewards you with a percentage of the dividends distributed.
				</div>
				<div>
					<div class="no-reward">
						There are currently no profits to distribute, so this reward is currently unavailable. Keep an eye on the <a href="/status/treasury.html">Treasury Status</a> and try again later.
					</div>
					<div class="fields">
						<div class="field">
							<div class="label tipLeft" title="Choose a gasPrice you are willing to pay to execute this reward, then hit enter to update the values below.">GasPrice:</div>
							<div class="value">
								<input type=text value="20" class="gasPrice" size=3> GWei
								<button class="refresh">Refresh</button>
							</div>
						</div>
						<div class="amount field">
							<div class="label tipLeft" title="This is the amount of Ether able to be distributed to token holders.">Profits to distribute:</div>
							<div class="value"></div>
						</div>
						<div class="reward field">
							<div class="label tipLeft" title="This is the amount you'll receive for executing this reward.">Reward:</div>
							<div class="value"></div>
						</div>
						<div class="cost field">
							<div class="label tipLeft" title="This is how much it will cost you to execute this reward.">Estimated Cost:</div>
							<div class="value"></div>
						</div>
						<div class="profit field">
							<div class="label tipLeft" title="This is your total profit for executing this reward.">Profit:</div>
							<div class="value"></div>
						</div>
						<div class="risk field">
							<div class="label tipLeft" title="If somebody else claims the reward before you, you'll lose up to this amount in gas costs.">Risk:</div>
							<input type=hidden class="failGasPrice" value="25424"/>
							<div class="value"></div>
						</div>
						<div class="execute field">
							<div class="label tipLeft" title="Click here to submit a transaction with your chosen gasPrice.">Execute:</div>
							<div class="value">
								<button>Claim Reward</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div></body>
</html>