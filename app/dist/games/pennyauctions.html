<!DOCTYPE html>
<html>
	<head>
		<script src="/javascripts/lib/Loader.js"></script>
		<script src="/javascripts/games/pennyauctions.js"></script>
		<style>
			/*********************************************/
			/******** TITLE AND FEATURES *****************/
			/*********************************************/
			#Title {
				padding: 20px 0px 20px 0px;
				background: white;
				text-align: center;
			}
				#Title .sup {
					font-size: 180%;
					/*font-weight: bold;*/
					letter-spacing: .25em;
					animation: textShadowGlow 2s 0s infinite ease-in-out alternate;
				}
				#Title .sub {
					font-size: 90%;
					letter-spacing: .2em;
				}

			.featureBox {
				box-sizing: border-box;
				width: 100%;
				display: table;
				background: linear-gradient(to bottom, #BBC 0%, #68D 100%);
				padding: 15px 0px;
				margin: 0px;
			}
			.featureBox > .left {
				display: table-cell;
				vertical-align: top;
				width: 33%;
			}
			.featureBox > .middle {
				display: table-cell;
				vertical-align: top;
				width: 33%;
			}
			.featureBox > .right {
				display: table-cell;
				vertical-align: top;
				width: 33%;
			}
			.featureBox .block {
				display: inline-block;
				margin: 0px 40px;
				text-shadow: 1px 1px 1px rgba(255,255,255,.4);
			}
			@keyframes textShadowGlow {
				from { text-shadow: 0px 0px 10px cyan; }
				to { text-shadow: 0px 0px 4px #68D; }
			}
			.featureBox .title {
				text-align: center;
				font-weight: bold;
				font-size: 180%;
				color: #FAFAFA;
				letter-spacing: .1em;
				padding-bottom: 4px;
				text-shadow: 0px 0px 5px cyan;
				animation: textShadowGlow 3s 0s infinite ease-in-out alternate;
			}
			.featureBox .feature {
				display: inline-block;
				font-size: 90%;
				margin: 4px 0px;
				font-weight: bold;

			}
			.featureBox .tipLeft::before {
				background: rgba(0,0,0,.1)
			}
		</style>
	</head>
	<body>
	<div id="Content">
		<div id="Summary">
			<div id="Title">
				<div class="sup">Penny Auctions</div>
				<div class="sub">the world's fairest penny auctions</div>
			</div>
			<div class="featureBox">
				<div class="left">
					<div class="block">
						<div class="title">Fast</div>
						<div class="feature tipLeft" title="No need to deposit Ether or fill out any forms.">
							No deposit, no sign-up.
						</div><br>
						<div class="feature tipLeft" title="Just send some Ether to an auction. If nobody bids after you, you'll win the prize!">
							Easy to play!
						</div><br>
						<div class="feature tipLeft" title="Our UI shows you what's happening every step of the way.">
							Responsive UI.
						</div>
					</div>
				</div>
				<div class="middle">
					<div class="block">
						<div class="title">Fair</div>
						<div class="feature tipLeft" title="Insider bidding is impossible. Each bid gets distributed to all PennyEther token holders.">
							Shill bidding is impossible.
						</div><br>
						<div class="feature tipLeft" title="If a bid doesn't result in you becoming the current winner, it is refunded.">
							Some bids are refunded.
						</div><br>
						<div class="feature tipLeft" title="The prize is held in a smart contract, and will only ever leave to pay the winner.">
							Prize is already staked.
						</div>
					</div>
				</div>
				<div class="right">
					<div class="block">
						<div class="title">Exciting</div>
						<div class="feature tipLeft" title="We always have Penny Auctions running. Catch them at the right time and win!">
							Always running.
						</div><br>
						<div class="feature tipLeft" title="For some auctions, each bid increases the prize.">
							Growing prizes.
						</div><br>
						<div class="feature tipLeft" title="Watch as bids are updated live.">
							Bids are updated live.
						</div><br>
					</div>
				</div>
			</div>
			<style>

				.instructions {
					margin: 20px auto;
					width: 700px;
					border-radius: 10px;
					background: linear-gradient(180deg, #C0D0E0 0%, #E0F0FA 100%);
				}
				.howTo {
					padding: 5px 0px 3px 0px;
					margin: 0px 20px;
					text-align: center;
					text-transform: uppercase;
					font-size: 90%;
					text-shadow: 1px 1px 1px white;
					font-weight: bold;
					color: #68D;
					border-bottom: 2px ridge rgba(255,255,255,.3);
					letter-spacing: .3em;
				}
				.oneTwoThree {
					display: table;
					width: 100%;
					padding-top: 5px;
					padding-bottom: 7px;
				}
				.oneTwoThree .oneCell,
				.oneTwoThree .twoCell,
				.oneTwoThree .threeCell {
					display: table-cell;
					width: 33%;
					vertical-align: middle;
					text-align: center;
					padding: 5px;
				}
				.oneTwoThree .inline {
					display: inline-block;
				}

				.one,
				.two,
				.three {
					display: table;
					width: 100%;
					padding: 4px;
					text-align: left;
					background: rgba(0,0,0,.1);
					border-radius: 5px;
					border: 1px inset rgba(200,200,200,.3);
					opacity: .8;
					cursor: pointer;
					filter: saturate(20%);
					transition: filter .6s, opacity .6s, background .6s;
				}
				.one { padding-left: 0px; }
				.two { padding-left: 8px; }
				.three { padding-left: 12px; }

				.one:hover,
				.two:hover,
				.three:hover {
					opacity: 1;
					filter: saturate(300%);
					text-shadow: 1px 1px 3px #CCC;
					background: rgba(255,255,255,.4);
					transition: filter .6s, opacity .6s, background .6s;
				}
				.oneTwoThree .left,
				.oneTwoThree .right {
					display: table-cell;
					vertical-align: top;
				}

				.one .left img { height: 35px; }
				.two .left { font-size: 200%; padding-right: 5px; }
				.three .left { font-size: 200%; padding-right: 8px; }

				.oneTwoThree .title {
					font-weight: bold;
					letter-spacing: .1em;
					color: blue;
				}
				.oneTwoThree .info {
					font-size: 90%;
					color: black;
				}
				.oneTwoThree .question {
					vertical-align: middle;
					font-size: 80%;
					display: inline-block;
					color: white;
					background: rgba(0,0,0,.1);
					margin-top: -2px;
					margin-left: -2px;
					padding: 0px 4px 0px 5px;
					border-radius: 13px;
					font-family: serif;
				}

			</style>
			<div class="instructions">
				<div class="howTo">How to play</div>
				<div class="oneTwoThree">
					<div class="oneCell">
						<div class="inline">
							<div class="one dontTip tipTop" title="" data-tippy-html="#BidTip" data-tippy-animation="scale">
								<div class="left">
									<img class="icon" src="/images/ethereum.png"/>
								</div>
								<div class="right">
									<div class="title">Bid <span class="question">i</span></div>
									<div class="info">Send bid amount</div>
								</div>
							</div>
						</div>
					</div>
					<div class="twoCell">
						<div class="inline">
							<div class="two dontTip tipTop" data-tippy-html="#WaitTip" data-tippy-animation="scale">
								<div class="left">âŒ›</div>
								<div class="right">
									<div class="title">Wait <span class="question">i</span></div>
									<div class="info">If nobody else bids...</div>
								</div>
							</div>
						</div>
					</div>
					<div class="threeCell">
						<div class="inline">
							<div class="three dontTip tipTop" data-tippy-html="#WinTip" data-tippy-animation="scale">
								<div class="left">ðŸ’¸</div>
								<div class="right">
									<div class="title">Win! <span class="question">i</span></div>
									<div class="info">Claim the prize</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<style>
			.bidTip .title,
			.waitTip .title,
			.winTip .title {
				margin: 10px 0px;
				text-align: center;
				font-weight: bold;
			}

			.bidTip {
				padding-left: 10px;
				padding-bottom: 10px;
				width: 330px;
				text-align: left;
			}
			.bidTip .info {
				margin: 10px 0px;
			}
			.bidTip .aboveList {
				font-size: 85%;
			}
			.bidTip .item {
				font-size: 85%;
				margin: 3px 0px 3px 10px;
			}

			.waitTip {
				padding-left: 10px;
				padding-bottom: 10px;
				width: 350px;
				text-align: left;
			}
			.waitTip .item {
				font-size: 90%;
				margin: 3px 0px 3px 10px;
			}

			.winTip {
				padding-left: 10px;
				padding-bottom: 10px;
				width: 290px;
				text-align: left;
			}
			.winTip .wait {
				font-size: 80%;
				font-weight: normal;
			}
		</style>
		<div id="BidTip" style="display:none;">
			<div class="bidTip">
				<div class="title">Bid with confidence.</div>
				<div class="info">If your bid doesn't result in you becoming the current winner, it is refunded. You'll get your remaining gas back, too.</div>
				<div class="aboveList">This could happen if:</div>
				<div class="item">â€¢ You bid the wrong amount.</div>
				<div class="item">â€¢ The auction has already ended.</div>
				<div class="item">â€¢ Someone bids after you in the same block.</div>
				<div class="item">â€¢ You are already the current winner.</div>
			</div>
		</div>
		<div id="WaitTip" style="display: none;">
			<div class="waitTip">
				<div class="title">Wait for the auction to expire.</div>
				<div class="item">â€¢ Each bid adds a few blocks to the auction time.</div>
				<div class="item">â€¢ If nobody else bids, you win!</div>
			</div>
		</div>
		<div id="WinTip" style="display:none;">
			<div class="winTip">
				<div class="title">Claim your prize immediately.</div>
				<div class="wait">
					Or, you can wait and the prize will automatically be sent to you by PennyEther, free of charge.
				</div>
			</div>
		</div>
		<script>
			// attach tips for html feature stuff
			Loader.promise.then(function(){
				tippy(".tipTop");
			});
		</script>


		<style>
		.auction {
			display: inline-block;
			width: 400px; 
			background: linear-gradient(to top, #BBB 0%, #EEE 100%);
			border-radius: 10px;
			border: 1px solid #DDD;
			margin: 10px 30px;
		}
		.auction.ended {
			opacity: .4;
		}
		.auction .top td,
		.auction .middle td,
		.auction .bottom td {
			position: relative;
			border-bottom: 1px solid gray;
			z-index: 2;
		}
		.auction .bottom td {
			border-bottom: none;
			z-index: 1;
		}
		.auction td:not(:first-child) {
			border-left: 1px solid #999;
		}
		.auction td {
			text-align: center;
			padding: 10px 5px 5px 5px;
		}
		.auction td.prizeCell,
		.auction td.bidPriceCell {
			white-space: nowrap;
		}
		.auction td .label {
			position: absolute;
			top: 0px;
			left: 0px;
			background: #BBB;
			font-size: 60%;
			padding: 1px 4px 1px 0px;
			color: white;
			letter-spacing: .10em;
			cursor: pointer;
			border-bottom-right-radius: 4px;
			box-shadow: 1px 1px 3px #AAA;
			text-transform: uppercase;
		}
		.auction .label.infoLeft:before {
			text-transform: none;
			background: #AAA;
		}
		.auction td .prizeLabel {
			border-top-left-radius: 10px;
		}
		.auction .field {
			padding: 4px;
		}
		.auction .prize {
			min-width: 120px;
		}
		.auction .currentWinner {
			min-width: 120px;
		}
		.auction.winner .currentWinnerCell {
			background: rgba(0,255,128,.2);
			box-shadow: 0px 0px 8px 0px rgba(0,128,0,.7);
		}
		.auction .prize .value {
			display: inline-block;
			font-size: 300%;
			letter-spacing: -.08em;
		}
		.auction .blocksLeft {
			display: inline-block;
			font-size: 300%;
			letter-spacing: -.08em;
			vertical-align: middle;
		}
		.auction .timeLeft {
			display: inline-block;
			font-size: 100%;
			margin-top: -5px;
			vertical-align: middle;
			padding: 1px 4px;
			border-radius: 3px;
		}
		.auction.half-minute .timeLeft {
			font-weight: bold;
			animation: halfMinute 1s 0s infinite ease-in-out alternate;
		}
		.auction.one-minute .timeLeft {
			font-weight: bold;
			background: red;
			color: white;
		}
		.auction.two-minutes .timeLeft {
			font-weight: bold;
			color: red;
		}
		.auction.five-minutes .timeLeft {
			color: red;
		}
		.auction .bidPrice {
			display: inline-block;
			font-size: 200%;
			letter-spacing: -.08em;
		}
		.auction .bid {
			display: inline-block;
		}
		.auction .bid button {
			font-size: 200%;
			padding: 5px 40px;
			cursor: pointer;
			color: white;
			border: none;
			border-radius: 5px;
			animation: buttonGlow 2s 0s infinite ease-in-out alternate;
		}
		.auction .bid button.disabled {
			background: gray;
			animation: none;
			cursor: not-allowed;
		}
		.auction .bid button:focus {
			outline: none;
		}
		.auction .eth {
			display: inline-block;
			font-size: 80%;
			font-weight: bold;
			color: gray;
			margin-left: -3px;
			text-transform: uppercase;
		}
		.auction .infoIcon {
			font-size: 200%;
			margin-top: -10px;
			padding: 0px 5px;
			color: blue;
			cursor: pointer;
		}

		.auction .statusCell {
			font-size: 80%;
			border-bottom-right-radius: 10px;
		}
			.auction .statusCell.prepending {
				animation: statusPrepending 1s 0s infinite ease-in-out alternate;
			}
			.auction .statusCell.pending {
				animation: statusPending 1s 0s infinite ease-in-out alternate;
			}
			.auction .statusCell.refunded {
				background: rgba(255, 255, 0, .25);
			}
			.auction .statusCell.error {
				background: rgba(255, 0, 0, .3);
			}
			.auction .statusCell.current-winner {
				background: rgba(0, 255, 128, .2);
			}
		.auction .statusCell .LoadingBar {
			height: 5px;
			border: 1px solid rgba(0,0,0,.2);
			width: 80%;
			margin: 5px auto;
		}
		.auction .statusCell .LoadingBar .loaded {
			background: rgba(0,128,0,.7);
		}

		.auction.new-prize .prizeCell {
			border-top-left-radius: 10px;
			animation: flashGrayBackground 5s 0s 1 ease-out;
		}
		.auction.new-block .blocksLeftCell {
			border-top-right-radius: 10px;
			animation: flashGrayBackground 5s 0s 1 ease-out;
		}
		.auction.new-winner .currentWinnerCell {
			animation: flashGreenBackground 5s 0s 1 ease-out;	
		}
		.auction.new-loser .currentWinnerCell {
			animation: flashRedBackground 5s 0s 1 ease-out;		
		}

		@keyframes flashGrayBackground {
		  from { }
		  3% { background: gray; }
		  to { }
		}
		@keyframes flashGreenBackground {
		  from { }
		  3% {
		  	background: #0F8;
		  	box-shadow: 0px 0px 15px 5px green;
		  }
		  to { }
		}
		@keyframes flashRedBackground {
		  from { }
		  3% {
		  	background: red;
		  	box-shadow: 0px 0px 8px 1px red;
		  }
		  to { }
		}
		@keyframes buttonGlow {
			from { background: rgb(25,200,50); }
			to { background: green; }
		}

		@keyframes halfMinute {
			from {
				background: red;
				color: white;
			}
			to {
				background: white;
				color: red;
			}
		}
		@keyframes statusPrepending {
			from { background: rgba(0,0,255,.05); }
			to { background: rgba(0,0,255,.3); }
		}
		@keyframes statusPending {
			from { background: rgba(0,255,0,.1); }
			to { background: rgba(0,200,0,.6); }
		}

		</style>

		<div class="auction template" style="display: none;">
			<div class="moreInfo" style="display: none;">
				<div>
					Stuff goes in here.
					<div class="logs"></div>
				</div>
			</div>
			<table width="100%" cellpadding="0" cellspacing="0">
				<tr class="top">
					<td class="prizeCell">
						<div class="label prizeLabel dontTip infoLeft" title="The prize that the winner will receive.">Auction Prize</div>
						<div class="field prize">
							<div class="value">.05</div>
							<div class="eth">eth</div>
						</div>
					</td>
					<td colspan=2 width="100%" class="blocksLeftCell">
						<div class="label dontTip infoLeft" title="The number of blocks remaining until the auction ends. The amount of time left is estimated based on recent blocktimes.">Blocks Remaining</div>
						<div class="field">
							<div class="blocksLeft">5</div><br>
							<div class="timeLeft">(~3:22)</div>
						</div>
					</td>
				</tr>
				<tr class="middle">
					<td class="bidPriceCell">
						<div class="label dontTip infoLeft" title="The amount it costs to become the current winner.">Bid Fee</div>
						<div class="field">
							<div class="bidPrice">.0001</div>
							<div class="eth">eth</div>
						</div>
					</td>
					<td class="currentWinnerCell">
						<div class="label dontTip infoLeft" title="The winner that will receive the prize if the auction ends.">Current Winner</div>
						<div class="field currentWinner">
							<div class="value">0x38432908</div>
						</div>
					</td>
					<td>
						<div class="infoIcon">â“˜</div>
					</td>
				</tr>
				<tr class="bottom">
					<td>
						<div class="bid dontTip" data-tippy-trigger="mouseenter" title=" ">
							<button>Bid</button>
						</div>
					</td>
					<td colspan=2 class="statusCell">
						<div class="label dontTip infoLeft" title="This displays the auction status.">Status</div>
						<div class="status">The auction is live. Place your bid!</div>
					</td>
				</tr>
			</table>	
		</div>
		<div class="subsection">
			<div class="head">Current Auctions</div>
			<div class="body">
				<div class="activeAuctions"></div>
			</div>
		</div>
		<div class="subsection">
			<div class="head">Ended Auctions</div>
			<div class="body">
				<div class="endedAuctions"></div>
			</div>
		</div>
	</div>
	</body>
</html>